function cov_2du9xsojta(){var path="N:\\Personal Projects\\work-projects\\eric-nomad\\src\\Services\\UserService.js";var hash="380e0937e019274db8d8022d5fb8a63b9d3a83b3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"N:\\Personal Projects\\work-projects\\eric-nomad\\src\\Services\\UserService.js",statementMap:{"0":{start:{line:3,column:4},end:{line:3,column:24}},"1":{start:{line:8,column:4},end:{line:8,column:44}},"2":{start:{line:9,column:19},end:{line:32,column:1}},"3":{start:{line:10,column:2},end:{line:10,column:43}},"4":{start:{line:11,column:25},end:{line:11,column:65}},"5":{start:{line:12,column:18},end:{line:26,column:4}},"6":{start:{line:27,column:16},end:{line:27,column:41}},"7":{start:{line:28,column:2},end:{line:31,column:4}},"8":{start:{line:33,column:0},end:{line:35,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:19},end:{line:9,column:20}},loc:{start:{line:9,column:37},end:{line:32,column:1}},line:9}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},f:{"0":0},b:{},inputSourceMap:{version:3,names:["User","require","validateUserRegistration","encryptPassword","generateJwtToken","createUser","userData","hashedPassword","password","newUser","create","firstName","lastName","email","birthOfDate","preferredLanguage","preferredCurrency","whereYouLive","role","department","lineManager","gender","telephoneNumber","token","user","module","exports"],sourceRoot:"N:\\Personal Projects\\work-projects\\eric-nomad\\src\\Services\\",sources:["UserService.js"],sourcesContent:["const { User } = require('../models');\r\nconst { validateUserRegistration, encryptPassword, generateJwtToken } = require('../validations/userValidation');\r\n\r\nconst createUser = async (userData) => {\r\n  await validateUserRegistration(userData);\r\n  const hashedPassword = await encryptPassword(userData.password);\r\n\r\n  const newUser = await User.create({\r\n    firstName: userData.firstName,\r\n    lastName: userData.lastName,\r\n    email: userData.email,\r\n    birthOfDate: userData.birthOfDate,\r\n    preferredLanguage: userData.preferredLanguage,\r\n    preferredCurrency: userData.preferredCurrency,\r\n    whereYouLive: userData.whereYouLive,\r\n    role: userData.role,\r\n    department: userData.department,\r\n    lineManager: userData.lineManager,\r\n    gender: userData.gender,\r\n    telephoneNumber: userData.telephoneNumber,\r\n    password: hashedPassword\r\n  });\r\n\r\n  const token = generateJwtToken(newUser);\r\n  return { user: newUser, token };\r\n};\r\n\r\nmodule.exports = { createUser };\r\n"],mappings:"AAAA,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACrC,MAAM;EAAEC,wBAAwB;EAAEC,eAAe;EAAEC;AAAiB,CAAC,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAEhH,MAAMI,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACrC,MAAMJ,wBAAwB,CAACI,QAAQ,CAAC;EACxC,MAAMC,cAAc,GAAG,MAAMJ,eAAe,CAACG,QAAQ,CAACE,QAAQ,CAAC;EAE/D,MAAMC,OAAO,GAAG,MAAMT,IAAI,CAACU,MAAM,CAAC;IAChCC,SAAS,EAAEL,QAAQ,CAACK,SAAS;IAC7BC,QAAQ,EAAEN,QAAQ,CAACM,QAAQ;IAC3BC,KAAK,EAAEP,QAAQ,CAACO,KAAK;IACrBC,WAAW,EAAER,QAAQ,CAACQ,WAAW;IACjCC,iBAAiB,EAAET,QAAQ,CAACS,iBAAiB;IAC7CC,iBAAiB,EAAEV,QAAQ,CAACU,iBAAiB;IAC7CC,YAAY,EAAEX,QAAQ,CAACW,YAAY;IACnCC,IAAI,EAAEZ,QAAQ,CAACY,IAAI;IACnBC,UAAU,EAAEb,QAAQ,CAACa,UAAU;IAC/BC,WAAW,EAAEd,QAAQ,CAACc,WAAW;IACjCC,MAAM,EAAEf,QAAQ,CAACe,MAAM;IACvBC,eAAe,EAAEhB,QAAQ,CAACgB,eAAe;IACzCd,QAAQ,EAAED;EACZ,CAAC,CAAC;EAEF,MAAMgB,KAAK,GAAGnB,gBAAgB,CAACK,OAAO,CAAC;EACvC,OAAO;IAAEe,IAAI,EAAEf,OAAO;IAAEc;EAAM,CAAC;AACjC,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAG;EAAErB;AAAW,CAAC",ignoreList:[]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"380e0937e019274db8d8022d5fb8a63b9d3a83b3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2du9xsojta=function(){return actualCoverage;};}return actualCoverage;}cov_2du9xsojta();const{User}=(cov_2du9xsojta().s[0]++,require('../models'));const{validateUserRegistration,encryptPassword,generateJwtToken}=(cov_2du9xsojta().s[1]++,require('../validations/userValidation'));cov_2du9xsojta().s[2]++;const createUser=async userData=>{cov_2du9xsojta().f[0]++;cov_2du9xsojta().s[3]++;await validateUserRegistration(userData);const hashedPassword=(cov_2du9xsojta().s[4]++,await encryptPassword(userData.password));const newUser=(cov_2du9xsojta().s[5]++,await User.create({firstName:userData.firstName,lastName:userData.lastName,email:userData.email,birthOfDate:userData.birthOfDate,preferredLanguage:userData.preferredLanguage,preferredCurrency:userData.preferredCurrency,whereYouLive:userData.whereYouLive,role:userData.role,department:userData.department,lineManager:userData.lineManager,gender:userData.gender,telephoneNumber:userData.telephoneNumber,password:hashedPassword}));const token=(cov_2du9xsojta().s[6]++,generateJwtToken(newUser));cov_2du9xsojta().s[7]++;return{user:newUser,token};};cov_2du9xsojta().s[8]++;module.exports={createUser};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsInZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiIsImVuY3J5cHRQYXNzd29yZCIsImdlbmVyYXRlSnd0VG9rZW4iLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJoYXNoZWRQYXNzd29yZCIsInBhc3N3b3JkIiwibmV3VXNlciIsImNyZWF0ZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJiaXJ0aE9mRGF0ZSIsInByZWZlcnJlZExhbmd1YWdlIiwicHJlZmVycmVkQ3VycmVuY3kiLCJ3aGVyZVlvdUxpdmUiLCJyb2xlIiwiZGVwYXJ0bWVudCIsImxpbmVNYW5hZ2VyIiwiZ2VuZGVyIiwidGVsZXBob25lTnVtYmVyIiwidG9rZW4iLCJ1c2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiTjpcXFBlcnNvbmFsIFByb2plY3RzXFx3b3JrLXByb2plY3RzXFxlcmljLW5vbWFkXFxzcmNcXFNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbIlVzZXJTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZSgnLi4vbW9kZWxzJyk7XHJcbmNvbnN0IHsgdmFsaWRhdGVVc2VyUmVnaXN0cmF0aW9uLCBlbmNyeXB0UGFzc3dvcmQsIGdlbmVyYXRlSnd0VG9rZW4gfSA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRpb25zL3VzZXJWYWxpZGF0aW9uJyk7XHJcblxyXG5jb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKHVzZXJEYXRhKSA9PiB7XHJcbiAgYXdhaXQgdmFsaWRhdGVVc2VyUmVnaXN0cmF0aW9uKHVzZXJEYXRhKTtcclxuICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGVuY3J5cHRQYXNzd29yZCh1c2VyRGF0YS5wYXNzd29yZCk7XHJcblxyXG4gIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7XHJcbiAgICBmaXJzdE5hbWU6IHVzZXJEYXRhLmZpcnN0TmFtZSxcclxuICAgIGxhc3ROYW1lOiB1c2VyRGF0YS5sYXN0TmFtZSxcclxuICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcclxuICAgIGJpcnRoT2ZEYXRlOiB1c2VyRGF0YS5iaXJ0aE9mRGF0ZSxcclxuICAgIHByZWZlcnJlZExhbmd1YWdlOiB1c2VyRGF0YS5wcmVmZXJyZWRMYW5ndWFnZSxcclxuICAgIHByZWZlcnJlZEN1cnJlbmN5OiB1c2VyRGF0YS5wcmVmZXJyZWRDdXJyZW5jeSxcclxuICAgIHdoZXJlWW91TGl2ZTogdXNlckRhdGEud2hlcmVZb3VMaXZlLFxyXG4gICAgcm9sZTogdXNlckRhdGEucm9sZSxcclxuICAgIGRlcGFydG1lbnQ6IHVzZXJEYXRhLmRlcGFydG1lbnQsXHJcbiAgICBsaW5lTWFuYWdlcjogdXNlckRhdGEubGluZU1hbmFnZXIsXHJcbiAgICBnZW5kZXI6IHVzZXJEYXRhLmdlbmRlcixcclxuICAgIHRlbGVwaG9uZU51bWJlcjogdXNlckRhdGEudGVsZXBob25lTnVtYmVyLFxyXG4gICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHRva2VuID0gZ2VuZXJhdGVKd3RUb2tlbihuZXdVc2VyKTtcclxuICByZXR1cm4geyB1c2VyOiBuZXdVc2VyLCB0b2tlbiB9O1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGNyZWF0ZVVzZXIgfTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBO0FBQUssQ0FBQyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3JDLE1BQU07RUFBRUMsd0JBQXdCO0VBQUVDLGVBQWU7RUFBRUM7QUFBaUIsQ0FBQyxHQUFHSCxPQUFPLENBQUMsK0JBQStCLENBQUM7QUFFaEgsTUFBTUksVUFBVSxHQUFHLE1BQU9DLFFBQVEsSUFBSztFQUNyQyxNQUFNSix3QkFBd0IsQ0FBQ0ksUUFBUSxDQUFDO0VBQ3hDLE1BQU1DLGNBQWMsR0FBRyxNQUFNSixlQUFlLENBQUNHLFFBQVEsQ0FBQ0UsUUFBUSxDQUFDO0VBRS9ELE1BQU1DLE9BQU8sR0FBRyxNQUFNVCxJQUFJLENBQUNVLE1BQU0sQ0FBQztJQUNoQ0MsU0FBUyxFQUFFTCxRQUFRLENBQUNLLFNBQVM7SUFDN0JDLFFBQVEsRUFBRU4sUUFBUSxDQUFDTSxRQUFRO0lBQzNCQyxLQUFLLEVBQUVQLFFBQVEsQ0FBQ08sS0FBSztJQUNyQkMsV0FBVyxFQUFFUixRQUFRLENBQUNRLFdBQVc7SUFDakNDLGlCQUFpQixFQUFFVCxRQUFRLENBQUNTLGlCQUFpQjtJQUM3Q0MsaUJBQWlCLEVBQUVWLFFBQVEsQ0FBQ1UsaUJBQWlCO0lBQzdDQyxZQUFZLEVBQUVYLFFBQVEsQ0FBQ1csWUFBWTtJQUNuQ0MsSUFBSSxFQUFFWixRQUFRLENBQUNZLElBQUk7SUFDbkJDLFVBQVUsRUFBRWIsUUFBUSxDQUFDYSxVQUFVO0lBQy9CQyxXQUFXLEVBQUVkLFFBQVEsQ0FBQ2MsV0FBVztJQUNqQ0MsTUFBTSxFQUFFZixRQUFRLENBQUNlLE1BQU07SUFDdkJDLGVBQWUsRUFBRWhCLFFBQVEsQ0FBQ2dCLGVBQWU7SUFDekNkLFFBQVEsRUFBRUQ7RUFDWixDQUFDLENBQUM7RUFFRixNQUFNZ0IsS0FBSyxHQUFHbkIsZ0JBQWdCLENBQUNLLE9BQU8sQ0FBQztFQUN2QyxPQUFPO0lBQUVlLElBQUksRUFBRWYsT0FBTztJQUFFYztFQUFNLENBQUM7QUFDakMsQ0FBQztBQUVERSxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFckI7QUFBVyxDQUFDIiwiaWdub3JlTGlzdCI6W119
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmR1OXhzb2p0YSIsImFjdHVhbENvdmVyYWdlIiwiVXNlciIsInMiLCJyZXF1aXJlIiwidmFsaWRhdGVVc2VyUmVnaXN0cmF0aW9uIiwiZW5jcnlwdFBhc3N3b3JkIiwiZ2VuZXJhdGVKd3RUb2tlbiIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsImYiLCJoYXNoZWRQYXNzd29yZCIsInBhc3N3b3JkIiwibmV3VXNlciIsImNyZWF0ZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJiaXJ0aE9mRGF0ZSIsInByZWZlcnJlZExhbmd1YWdlIiwicHJlZmVycmVkQ3VycmVuY3kiLCJ3aGVyZVlvdUxpdmUiLCJyb2xlIiwiZGVwYXJ0bWVudCIsImxpbmVNYW5hZ2VyIiwiZ2VuZGVyIiwidGVsZXBob25lTnVtYmVyIiwidG9rZW4iLCJ1c2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIk46XFxQZXJzb25hbCBQcm9qZWN0c1xcd29yay1wcm9qZWN0c1xcZXJpYy1ub21hZFxcc3JjXFxTZXJ2aWNlc1xcL1VzZXJTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZSgnLi4vbW9kZWxzJyk7XHJcbmNvbnN0IHsgdmFsaWRhdGVVc2VyUmVnaXN0cmF0aW9uLCBlbmNyeXB0UGFzc3dvcmQsIGdlbmVyYXRlSnd0VG9rZW4gfSA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRpb25zL3VzZXJWYWxpZGF0aW9uJyk7XHJcblxyXG5jb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKHVzZXJEYXRhKSA9PiB7XHJcbiAgYXdhaXQgdmFsaWRhdGVVc2VyUmVnaXN0cmF0aW9uKHVzZXJEYXRhKTtcclxuICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGVuY3J5cHRQYXNzd29yZCh1c2VyRGF0YS5wYXNzd29yZCk7XHJcblxyXG4gIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7XHJcbiAgICBmaXJzdE5hbWU6IHVzZXJEYXRhLmZpcnN0TmFtZSxcclxuICAgIGxhc3ROYW1lOiB1c2VyRGF0YS5sYXN0TmFtZSxcclxuICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcclxuICAgIGJpcnRoT2ZEYXRlOiB1c2VyRGF0YS5iaXJ0aE9mRGF0ZSxcclxuICAgIHByZWZlcnJlZExhbmd1YWdlOiB1c2VyRGF0YS5wcmVmZXJyZWRMYW5ndWFnZSxcclxuICAgIHByZWZlcnJlZEN1cnJlbmN5OiB1c2VyRGF0YS5wcmVmZXJyZWRDdXJyZW5jeSxcclxuICAgIHdoZXJlWW91TGl2ZTogdXNlckRhdGEud2hlcmVZb3VMaXZlLFxyXG4gICAgcm9sZTogdXNlckRhdGEucm9sZSxcclxuICAgIGRlcGFydG1lbnQ6IHVzZXJEYXRhLmRlcGFydG1lbnQsXHJcbiAgICBsaW5lTWFuYWdlcjogdXNlckRhdGEubGluZU1hbmFnZXIsXHJcbiAgICBnZW5kZXI6IHVzZXJEYXRhLmdlbmRlcixcclxuICAgIHRlbGVwaG9uZU51bWJlcjogdXNlckRhdGEudGVsZXBob25lTnVtYmVyLFxyXG4gICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHRva2VuID0gZ2VuZXJhdGVKd3RUb2tlbihuZXdVc2VyKTtcclxuICByZXR1cm4geyB1c2VyOiBuZXdVc2VyLCB0b2tlbiB9O1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGNyZWF0ZVVzZXIgfTtcclxuIl0sIm1hcHBpbmdzIjoia3ZIQVdJO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQVhKLEtBQU0sQ0FBRUUsSUFBSyxDQUFDLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQ3JDLEtBQU0sQ0FBRUMsd0JBQXdCLENBQUVDLGVBQWUsQ0FBRUMsZ0JBQWlCLENBQUMsRUFBQVAsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxFQUFBSixjQUFBLEdBQUFHLENBQUEsTUFFaEgsS0FBTSxDQUFBSyxVQUFVLENBQUcsS0FBTyxDQUFBQyxRQUFRLEVBQUssQ0FBQVQsY0FBQSxHQUFBVSxDQUFBLE1BQUFWLGNBQUEsR0FBQUcsQ0FBQSxNQUNyQyxLQUFNLENBQUFFLHdCQUF3QixDQUFDSSxRQUFRLENBQUMsQ0FDeEMsS0FBTSxDQUFBRSxjQUFjLEVBQUFYLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUcsZUFBZSxDQUFDRyxRQUFRLENBQUNHLFFBQVEsQ0FBQyxFQUUvRCxLQUFNLENBQUFDLE9BQU8sRUFBQWIsY0FBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBRCxJQUFJLENBQUNZLE1BQU0sQ0FBQyxDQUNoQ0MsU0FBUyxDQUFFTixRQUFRLENBQUNNLFNBQVMsQ0FDN0JDLFFBQVEsQ0FBRVAsUUFBUSxDQUFDTyxRQUFRLENBQzNCQyxLQUFLLENBQUVSLFFBQVEsQ0FBQ1EsS0FBSyxDQUNyQkMsV0FBVyxDQUFFVCxRQUFRLENBQUNTLFdBQVcsQ0FDakNDLGlCQUFpQixDQUFFVixRQUFRLENBQUNVLGlCQUFpQixDQUM3Q0MsaUJBQWlCLENBQUVYLFFBQVEsQ0FBQ1csaUJBQWlCLENBQzdDQyxZQUFZLENBQUVaLFFBQVEsQ0FBQ1ksWUFBWSxDQUNuQ0MsSUFBSSxDQUFFYixRQUFRLENBQUNhLElBQUksQ0FDbkJDLFVBQVUsQ0FBRWQsUUFBUSxDQUFDYyxVQUFVLENBQy9CQyxXQUFXLENBQUVmLFFBQVEsQ0FBQ2UsV0FBVyxDQUNqQ0MsTUFBTSxDQUFFaEIsUUFBUSxDQUFDZ0IsTUFBTSxDQUN2QkMsZUFBZSxDQUFFakIsUUFBUSxDQUFDaUIsZUFBZSxDQUN6Q2QsUUFBUSxDQUFFRCxjQUNaLENBQUMsQ0FBQyxFQUVGLEtBQU0sQ0FBQWdCLEtBQUssRUFBQTNCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHSSxnQkFBZ0IsQ0FBQ00sT0FBTyxDQUFDLEVBQUFiLGNBQUEsR0FBQUcsQ0FBQSxNQUN2QyxNQUFPLENBQUV5QixJQUFJLENBQUVmLE9BQU8sQ0FBRWMsS0FBTSxDQUFDLENBQ2pDLENBQUMsQ0FBQTNCLGNBQUEsR0FBQUcsQ0FBQSxNQUVEMEIsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBRXRCLFVBQVcsQ0FBQyxDIiwiaWdub3JlTGlzdCI6W119