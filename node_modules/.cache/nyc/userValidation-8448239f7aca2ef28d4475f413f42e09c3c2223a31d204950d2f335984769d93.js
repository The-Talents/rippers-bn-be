function cov_74n1l48n2(){var path="D:\\rippers\\rippers-bn-be\\src\\validations\\userValidation.js";var hash="fcd12baa3ff0d12a292883eff1d4ad613b669dce";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\rippers\\rippers-bn-be\\src\\validations\\userValidation.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:15},end:{line:2,column:34}},"2":{start:{line:3,column:12},end:{line:3,column:35}},"3":{start:{line:6,column:4},end:{line:6,column:27}},"4":{start:{line:7,column:29},end:{line:51,column:2}},"5":{start:{line:52,column:28},end:{line:61,column:1}},"6":{start:{line:53,column:15},end:{line:57,column:4}},"7":{start:{line:58,column:2},end:{line:60,column:3}},"8":{start:{line:59,column:4},end:{line:59,column:44}},"9":{start:{line:62,column:24},end:{line:66,column:1}},"10":{start:{line:63,column:15},end:{line:63,column:39}},"11":{start:{line:64,column:25},end:{line:64,column:58}},"12":{start:{line:65,column:2},end:{line:65,column:24}},"13":{start:{line:67,column:25},end:{line:77,column:1}},"14":{start:{line:68,column:18},end:{line:72,column:3}},"15":{start:{line:73,column:16},end:{line:75,column:4}},"16":{start:{line:76,column:2},end:{line:76,column:15}},"17":{start:{line:78,column:33},end:{line:86,column:1}},"18":{start:{line:81,column:6},end:{line:81,column:45}},"19":{start:{line:82,column:2},end:{line:84,column:3}},"20":{start:{line:83,column:4},end:{line:83,column:46}},"21":{start:{line:85,column:2},end:{line:85,column:44}},"22":{start:{line:87,column:0},end:{line:91,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:52,column:28},end:{line:52,column:29}},loc:{start:{line:52,column:43},end:{line:61,column:1}},line:52},"1":{name:"(anonymous_1)",decl:{start:{line:62,column:24},end:{line:62,column:25}},loc:{start:{line:62,column:42},end:{line:66,column:1}},line:62},"2":{name:"(anonymous_2)",decl:{start:{line:67,column:25},end:{line:67,column:26}},loc:{start:{line:67,column:33},end:{line:77,column:1}},line:67},"3":{name:"(anonymous_3)",decl:{start:{line:78,column:33},end:{line:78,column:34}},loc:{start:{line:78,column:51},end:{line:86,column:1}},line:78}},branchMap:{"0":{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:58,column:2},end:{line:60,column:3}}],line:58},"1":{loc:{start:{line:82,column:2},end:{line:84,column:3}},type:"if",locations:[{start:{line:82,column:2},end:{line:84,column:3}},{start:{line:82,column:2},end:{line:84,column:3}}],line:82}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0]},inputSourceMap:{version:3,names:["Joi","require","bcrypt","jwt","User","userValidationSchema","object","email","string","required","messages","password","min","alphanum","firstName","lastName","birthOfDate","date","iso","preferredLanguage","optional","preferredCurrency","whereYouLive","role","department","lineManager","gender","valid","telephoneNumber","pattern","validateEmailExists","user","findOne","where","Error","encryptPassword","salt","genSalt","hashedPassword","hash","generateJwtToken","payload","userId","id","token","sign","process","env","JWT_SECRET","expiresIn","validateUserRegistration","userData","error","validate","details","message","module","exports"],sourceRoot:"D:\\rippers\\rippers-bn-be\\src\\validations\\",sources:["userValidation.js"],sourcesContent:["const Joi = require('joi');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst { User } = require('../../models');\r\n\r\nconst userValidationSchema = Joi.object({\r\n  email: Joi.string().email().required().messages({\r\n    'string.email': 'Invalid email format',\r\n    'any.required': 'Email is required',\r\n  }),\r\n  password: Joi.string().min(8).alphanum().required().messages({\r\n    'string.min': 'Password must be at least 8 characters long',\r\n    'string.alphanum': 'Password must be alphanumeric',\r\n    'any.required': 'Password is required',\r\n  }),\r\n  firstName: Joi.string().required().messages({\r\n    'any.required': 'First name is required',\r\n  }),\r\n  lastName: Joi.string().required().messages({\r\n    'any.required': 'Last name is required',\r\n  }),\r\n  birthOfDate: Joi.date().iso().required().messages({\r\n    'date.base': 'Invalid date format',\r\n    'any.required': 'Date of birth is required',\r\n  }),\r\n  preferredLanguage: Joi.string().optional().messages({\r\n    'string.base': 'Preferred language must be a string',\r\n  }),\r\n  preferredCurrency: Joi.string().optional().messages({\r\n    'string.base': 'Preferred currency must be a string',\r\n  }),\r\n  whereYouLive: Joi.string().optional().messages({\r\n    'string.base': 'Location must be a string',\r\n  }),\r\n  role: Joi.string().required().messages({\r\n    'any.required': 'Role is required',\r\n  }),\r\n  department: Joi.string().optional().messages({\r\n    'string.base': 'Department must be a string',\r\n  }),\r\n  lineManager: Joi.string().optional().messages({\r\n    'string.base': 'Line Manager must be a string',\r\n  }),\r\n  gender: Joi.string().valid('Male', 'Female', 'Other').optional().messages({\r\n    'any.only': 'Gender must be Male, Female, or Other',\r\n  }),\r\n  telephoneNumber: Joi.string()\r\n    .pattern(/^\\+?\\d{7,15}$/)\r\n    .optional()\r\n    .messages({\r\n      'string.pattern.base': 'Telephone number must be a valid phone number',\r\n    }),\r\n});\r\n\r\nconst validateEmailExists = async (email) => {\r\n  const user = await User.findOne({ where: { email } });\r\n  if (user) {\r\n    throw new Error('Email already exists');\r\n  }\r\n};\r\n\r\nconst encryptPassword = async (password) => {\r\n  const salt = await bcrypt.genSalt(10); \r\n  const hashedPassword = await bcrypt.hash(password, salt);\r\n  return hashedPassword;\r\n};\r\n\r\nconst generateJwtToken = (user) => {\r\n  const payload = {\r\n    userId: user.id, \r\n    email: user.email,\r\n    role: user.role,  \r\n  };\r\n  const token = jwt.sign(payload, process.env.JWT_SECRET, { expiresIn: '1h' });\r\n  return token;\r\n};\r\n\r\nconst validateUserRegistration = async (userData) => {\r\n  const { error } = userValidationSchema.validate(userData);\r\n  if (error) {\r\n    throw new Error(error.details[0].message);\r\n  }\r\n  await validateEmailExists(userData.email); \r\n};\r\n\r\nmodule.exports = { validateUserRegistration, encryptPassword, generateJwtToken };\r\n"],mappings:"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",ignoreList:[]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fcd12baa3ff0d12a292883eff1d4ad613b669dce"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_74n1l48n2=function(){return actualCoverage;};}return actualCoverage;}cov_74n1l48n2();const Joi=(cov_74n1l48n2().s[0]++,require('joi'));const bcrypt=(cov_74n1l48n2().s[1]++,require('bcryptjs'));const jwt=(cov_74n1l48n2().s[2]++,require('jsonwebtoken'));const{User}=(cov_74n1l48n2().s[3]++,require('../../models'));const userValidationSchema=(cov_74n1l48n2().s[4]++,Joi.object({email:Joi.string().email().required().messages({'string.email':'Invalid email format','any.required':'Email is required'}),password:Joi.string().min(8).alphanum().required().messages({'string.min':'Password must be at least 8 characters long','string.alphanum':'Password must be alphanumeric','any.required':'Password is required'}),firstName:Joi.string().required().messages({'any.required':'First name is required'}),lastName:Joi.string().required().messages({'any.required':'Last name is required'}),birthOfDate:Joi.date().iso().required().messages({'date.base':'Invalid date format','any.required':'Date of birth is required'}),preferredLanguage:Joi.string().optional().messages({'string.base':'Preferred language must be a string'}),preferredCurrency:Joi.string().optional().messages({'string.base':'Preferred currency must be a string'}),whereYouLive:Joi.string().optional().messages({'string.base':'Location must be a string'}),role:Joi.string().required().messages({'any.required':'Role is required'}),department:Joi.string().optional().messages({'string.base':'Department must be a string'}),lineManager:Joi.string().optional().messages({'string.base':'Line Manager must be a string'}),gender:Joi.string().valid('Male','Female','Other').optional().messages({'any.only':'Gender must be Male, Female, or Other'}),telephoneNumber:Joi.string().pattern(/^\+?\d{7,15}$/).optional().messages({'string.pattern.base':'Telephone number must be a valid phone number'})}));cov_74n1l48n2().s[5]++;const validateEmailExists=async email=>{cov_74n1l48n2().f[0]++;const user=(cov_74n1l48n2().s[6]++,await User.findOne({where:{email}}));cov_74n1l48n2().s[7]++;if(user){cov_74n1l48n2().b[0][0]++;cov_74n1l48n2().s[8]++;throw new Error('Email already exists');}else{cov_74n1l48n2().b[0][1]++;}};cov_74n1l48n2().s[9]++;const encryptPassword=async password=>{cov_74n1l48n2().f[1]++;const salt=(cov_74n1l48n2().s[10]++,await bcrypt.genSalt(10));const hashedPassword=(cov_74n1l48n2().s[11]++,await bcrypt.hash(password,salt));cov_74n1l48n2().s[12]++;return hashedPassword;};cov_74n1l48n2().s[13]++;const generateJwtToken=user=>{cov_74n1l48n2().f[2]++;const payload=(cov_74n1l48n2().s[14]++,{userId:user.id,email:user.email,role:user.role});const token=(cov_74n1l48n2().s[15]++,jwt.sign(payload,process.env.JWT_SECRET,{expiresIn:'1h'}));cov_74n1l48n2().s[16]++;return token;};cov_74n1l48n2().s[17]++;const validateUserRegistration=async userData=>{cov_74n1l48n2().f[3]++;const{error}=(cov_74n1l48n2().s[18]++,userValidationSchema.validate(userData));cov_74n1l48n2().s[19]++;if(error){cov_74n1l48n2().b[1][0]++;cov_74n1l48n2().s[20]++;throw new Error(error.details[0].message);}else{cov_74n1l48n2().b[1][1]++;}cov_74n1l48n2().s[21]++;await validateEmailExists(userData.email);};cov_74n1l48n2().s[22]++;module.exports={validateUserRegistration,encryptPassword,generateJwtToken};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiVXNlciIsInVzZXJWYWxpZGF0aW9uU2NoZW1hIiwib2JqZWN0IiwiZW1haWwiLCJzdHJpbmciLCJyZXF1aXJlZCIsIm1lc3NhZ2VzIiwicGFzc3dvcmQiLCJtaW4iLCJhbHBoYW51bSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiYmlydGhPZkRhdGUiLCJkYXRlIiwiaXNvIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJvcHRpb25hbCIsInByZWZlcnJlZEN1cnJlbmN5Iiwid2hlcmVZb3VMaXZlIiwicm9sZSIsImRlcGFydG1lbnQiLCJsaW5lTWFuYWdlciIsImdlbmRlciIsInZhbGlkIiwidGVsZXBob25lTnVtYmVyIiwicGF0dGVybiIsInZhbGlkYXRlRW1haWxFeGlzdHMiLCJ1c2VyIiwiZmluZE9uZSIsIndoZXJlIiwiRXJyb3IiLCJlbmNyeXB0UGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImdlbmVyYXRlSnd0VG9rZW4iLCJwYXlsb2FkIiwidXNlcklkIiwiaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiIsInVzZXJEYXRhIiwiZXJyb3IiLCJ2YWxpZGF0ZSIsImRldGFpbHMiLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHJpcHBlcnNcXHJpcHBlcnMtYm4tYmVcXHNyY1xcdmFsaWRhdGlvbnNcXCIsInNvdXJjZXMiOlsidXNlclZhbGlkYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZSgnam9pJyk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XHJcbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5jb25zdCB7IFVzZXIgfSA9IHJlcXVpcmUoJy4uLy4uL21vZGVscycpO1xyXG5cclxuY29uc3QgdXNlclZhbGlkYXRpb25TY2hlbWEgPSBKb2kub2JqZWN0KHtcclxuICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmVtYWlsJzogJ0ludmFsaWQgZW1haWwgZm9ybWF0JyxcclxuICAgICdhbnkucmVxdWlyZWQnOiAnRW1haWwgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkubWluKDgpLmFscGhhbnVtKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLm1pbic6ICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycyBsb25nJyxcclxuICAgICdzdHJpbmcuYWxwaGFudW0nOiAnUGFzc3dvcmQgbXVzdCBiZSBhbHBoYW51bWVyaWMnLFxyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdQYXNzd29yZCBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ0ZpcnN0IG5hbWUgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIGxhc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgYmlydGhPZkRhdGU6IEpvaS5kYXRlKCkuaXNvKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnZGF0ZS5iYXNlJzogJ0ludmFsaWQgZGF0ZSBmb3JtYXQnLFxyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdEYXRlIG9mIGJpcnRoIGlzIHJlcXVpcmVkJyxcclxuICB9KSxcclxuICBwcmVmZXJyZWRMYW5ndWFnZTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5iYXNlJzogJ1ByZWZlcnJlZCBsYW5ndWFnZSBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICBwcmVmZXJyZWRDdXJyZW5jeTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5iYXNlJzogJ1ByZWZlcnJlZCBjdXJyZW5jeSBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICB3aGVyZVlvdUxpdmU6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuYmFzZSc6ICdMb2NhdGlvbiBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICByb2xlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ1JvbGUgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIGRlcGFydG1lbnQ6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuYmFzZSc6ICdEZXBhcnRtZW50IG11c3QgYmUgYSBzdHJpbmcnLFxyXG4gIH0pLFxyXG4gIGxpbmVNYW5hZ2VyOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmJhc2UnOiAnTGluZSBNYW5hZ2VyIG11c3QgYmUgYSBzdHJpbmcnLFxyXG4gIH0pLFxyXG4gIGdlbmRlcjogSm9pLnN0cmluZygpLnZhbGlkKCdNYWxlJywgJ0ZlbWFsZScsICdPdGhlcicpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ2FueS5vbmx5JzogJ0dlbmRlciBtdXN0IGJlIE1hbGUsIEZlbWFsZSwgb3IgT3RoZXInLFxyXG4gIH0pLFxyXG4gIHRlbGVwaG9uZU51bWJlcjogSm9pLnN0cmluZygpXHJcbiAgICAucGF0dGVybigvXlxcKz9cXGR7NywxNX0kLylcclxuICAgIC5vcHRpb25hbCgpXHJcbiAgICAubWVzc2FnZXMoe1xyXG4gICAgICAnc3RyaW5nLnBhdHRlcm4uYmFzZSc6ICdUZWxlcGhvbmUgbnVtYmVyIG11c3QgYmUgYSB2YWxpZCBwaG9uZSBudW1iZXInLFxyXG4gICAgfSksXHJcbn0pO1xyXG5cclxuY29uc3QgdmFsaWRhdGVFbWFpbEV4aXN0cyA9IGFzeW5jIChlbWFpbCkgPT4ge1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbCB9IH0pO1xyXG4gIGlmICh1c2VyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZW5jcnlwdFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTsgXHJcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgcmV0dXJuIGhhc2hlZFBhc3N3b3JkO1xyXG59O1xyXG5cclxuY29uc3QgZ2VuZXJhdGVKd3RUb2tlbiA9ICh1c2VyKSA9PiB7XHJcbiAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgIHVzZXJJZDogdXNlci5pZCwgXHJcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgIHJvbGU6IHVzZXIucm9sZSwgIFxyXG4gIH07XHJcbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzFoJyB9KTtcclxuICByZXR1cm4gdG9rZW47XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZVVzZXJSZWdpc3RyYXRpb24gPSBhc3luYyAodXNlckRhdGEpID0+IHtcclxuICBjb25zdCB7IGVycm9yIH0gPSB1c2VyVmFsaWRhdGlvblNjaGVtYS52YWxpZGF0ZSh1c2VyRGF0YSk7XHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcclxuICB9XHJcbiAgYXdhaXQgdmFsaWRhdGVFbWFpbEV4aXN0cyh1c2VyRGF0YS5lbWFpbCk7IFxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IHZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiwgZW5jcnlwdFBhc3N3b3JkLCBnZW5lcmF0ZUp3dFRva2VuIH07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQzFCLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNRSxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDbkMsTUFBTTtFQUFFRztBQUFLLENBQUMsR0FBR0gsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUV4QyxNQUFNSSxvQkFBb0IsR0FBR0wsR0FBRyxDQUFDTSxNQUFNLENBQUM7RUFDdENDLEtBQUssRUFBRVAsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQyxDQUFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDRSxRQUFRLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUM7SUFDOUMsY0FBYyxFQUFFLHNCQUFzQjtJQUN0QyxjQUFjLEVBQUU7RUFDbEIsQ0FBQyxDQUFDO0VBQ0ZDLFFBQVEsRUFBRVgsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQyxDQUFDSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDLENBQUNKLFFBQVEsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQztJQUMzRCxZQUFZLEVBQUUsNkNBQTZDO0lBQzNELGlCQUFpQixFQUFFLCtCQUErQjtJQUNsRCxjQUFjLEVBQUU7RUFDbEIsQ0FBQyxDQUFDO0VBQ0ZJLFNBQVMsRUFBRWQsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUM7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
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNzRuMWw0OG4yIiwiYWN0dWFsQ292ZXJhZ2UiLCJKb2kiLCJzIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsIlVzZXIiLCJ1c2VyVmFsaWRhdGlvblNjaGVtYSIsIm9iamVjdCIsImVtYWlsIiwic3RyaW5nIiwicmVxdWlyZWQiLCJtZXNzYWdlcyIsInBhc3N3b3JkIiwibWluIiwiYWxwaGFudW0iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImJpcnRoT2ZEYXRlIiwiZGF0ZSIsImlzbyIsInByZWZlcnJlZExhbmd1YWdlIiwib3B0aW9uYWwiLCJwcmVmZXJyZWRDdXJyZW5jeSIsIndoZXJlWW91TGl2ZSIsInJvbGUiLCJkZXBhcnRtZW50IiwibGluZU1hbmFnZXIiLCJnZW5kZXIiLCJ2YWxpZCIsInRlbGVwaG9uZU51bWJlciIsInBhdHRlcm4iLCJ2YWxpZGF0ZUVtYWlsRXhpc3RzIiwiZiIsInVzZXIiLCJmaW5kT25lIiwid2hlcmUiLCJiIiwiRXJyb3IiLCJlbmNyeXB0UGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImdlbmVyYXRlSnd0VG9rZW4iLCJwYXlsb2FkIiwidXNlcklkIiwiaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiIsInVzZXJEYXRhIiwiZXJyb3IiLCJ2YWxpZGF0ZSIsImRldGFpbHMiLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkQ6XFxyaXBwZXJzXFxyaXBwZXJzLWJuLWJlXFxzcmNcXHZhbGlkYXRpb25zXFwvdXNlclZhbGlkYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9pID0gcmVxdWlyZSgnam9pJyk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XHJcbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5jb25zdCB7IFVzZXIgfSA9IHJlcXVpcmUoJy4uLy4uL21vZGVscycpO1xyXG5cclxuY29uc3QgdXNlclZhbGlkYXRpb25TY2hlbWEgPSBKb2kub2JqZWN0KHtcclxuICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmVtYWlsJzogJ0ludmFsaWQgZW1haWwgZm9ybWF0JyxcclxuICAgICdhbnkucmVxdWlyZWQnOiAnRW1haWwgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkubWluKDgpLmFscGhhbnVtKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLm1pbic6ICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycyBsb25nJyxcclxuICAgICdzdHJpbmcuYWxwaGFudW0nOiAnUGFzc3dvcmQgbXVzdCBiZSBhbHBoYW51bWVyaWMnLFxyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdQYXNzd29yZCBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ0ZpcnN0IG5hbWUgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIGxhc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgYmlydGhPZkRhdGU6IEpvaS5kYXRlKCkuaXNvKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnZGF0ZS5iYXNlJzogJ0ludmFsaWQgZGF0ZSBmb3JtYXQnLFxyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdEYXRlIG9mIGJpcnRoIGlzIHJlcXVpcmVkJyxcclxuICB9KSxcclxuICBwcmVmZXJyZWRMYW5ndWFnZTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5iYXNlJzogJ1ByZWZlcnJlZCBsYW5ndWFnZSBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICBwcmVmZXJyZWRDdXJyZW5jeTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5iYXNlJzogJ1ByZWZlcnJlZCBjdXJyZW5jeSBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICB3aGVyZVlvdUxpdmU6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuYmFzZSc6ICdMb2NhdGlvbiBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICByb2xlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKS5tZXNzYWdlcyh7XHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ1JvbGUgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIGRlcGFydG1lbnQ6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuYmFzZSc6ICdEZXBhcnRtZW50IG11c3QgYmUgYSBzdHJpbmcnLFxyXG4gIH0pLFxyXG4gIGxpbmVNYW5hZ2VyOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmJhc2UnOiAnTGluZSBNYW5hZ2VyIG11c3QgYmUgYSBzdHJpbmcnLFxyXG4gIH0pLFxyXG4gIGdlbmRlcjogSm9pLnN0cmluZygpLnZhbGlkKCdNYWxlJywgJ0ZlbWFsZScsICdPdGhlcicpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ2FueS5vbmx5JzogJ0dlbmRlciBtdXN0IGJlIE1hbGUsIEZlbWFsZSwgb3IgT3RoZXInLFxyXG4gIH0pLFxyXG4gIHRlbGVwaG9uZU51bWJlcjogSm9pLnN0cmluZygpXHJcbiAgICAucGF0dGVybigvXlxcKz9cXGR7NywxNX0kLylcclxuICAgIC5vcHRpb25hbCgpXHJcbiAgICAubWVzc2FnZXMoe1xyXG4gICAgICAnc3RyaW5nLnBhdHRlcm4uYmFzZSc6ICdUZWxlcGhvbmUgbnVtYmVyIG11c3QgYmUgYSB2YWxpZCBwaG9uZSBudW1iZXInLFxyXG4gICAgfSksXHJcbn0pO1xyXG5cclxuY29uc3QgdmFsaWRhdGVFbWFpbEV4aXN0cyA9IGFzeW5jIChlbWFpbCkgPT4ge1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbCB9IH0pO1xyXG4gIGlmICh1c2VyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZW5jcnlwdFBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkKSA9PiB7XHJcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTsgXHJcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgcmV0dXJuIGhhc2hlZFBhc3N3b3JkO1xyXG59O1xyXG5cclxuY29uc3QgZ2VuZXJhdGVKd3RUb2tlbiA9ICh1c2VyKSA9PiB7XHJcbiAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgIHVzZXJJZDogdXNlci5pZCwgXHJcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgIHJvbGU6IHVzZXIucm9sZSwgIFxyXG4gIH07XHJcbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzFoJyB9KTtcclxuICByZXR1cm4gdG9rZW47XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZVVzZXJSZWdpc3RyYXRpb24gPSBhc3luYyAodXNlckRhdGEpID0+IHtcclxuICBjb25zdCB7IGVycm9yIH0gPSB1c2VyVmFsaWRhdGlvblNjaGVtYS52YWxpZGF0ZSh1c2VyRGF0YSk7XHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlKTtcclxuICB9XHJcbiAgYXdhaXQgdmFsaWRhdGVFbWFpbEV4aXN0cyh1c2VyRGF0YS5lbWFpbCk7IFxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IHZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiwgZW5jcnlwdFBhc3N3b3JkLCBnZW5lcmF0ZUp3dFRva2VuIH07XHJcbiJdLCJtYXBwaW5ncyI6IitzVEFjSTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FkSixLQUFNLENBQUFFLEdBQUcsRUFBQUYsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFDMUIsS0FBTSxDQUFBQyxNQUFNLEVBQUFMLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQ2xDLEtBQU0sQ0FBQUUsR0FBRyxFQUFBTixhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQyxFQUNuQyxLQUFNLENBQUVHLElBQUssQ0FBQyxFQUFBUCxhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQyxFQUV4QyxLQUFNLENBQUFJLG9CQUFvQixFQUFBUixhQUFBLEdBQUFHLENBQUEsTUFBR0QsR0FBRyxDQUFDTyxNQUFNLENBQUMsQ0FDdENDLEtBQUssQ0FBRVIsR0FBRyxDQUFDUyxNQUFNLENBQUMsQ0FBQyxDQUFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDRSxRQUFRLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FDOUMsY0FBYyxDQUFFLHNCQUFzQixDQUN0QyxjQUFjLENBQUUsbUJBQ2xCLENBQUMsQ0FBQyxDQUNGQyxRQUFRLENBQUVaLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLENBQUMsQ0FBQ0ksR0FBRyxDQUFDLENBQUMs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