{"version":3,"names":["User","require","validateUserRegistration","encryptPassword","generateJwtToken","createUser","userData","hashedPassword","password","newUser","create","firstName","lastName","email","birthOfDate","preferredLanguage","preferredCurrency","whereYouLive","role","department","lineManager","gender","telephoneNumber","token","user","module","exports"],"sourceRoot":"M:\\Production\\eric-nomad\\src\\Services\\","sources":["UserService.js"],"sourcesContent":["const { User } = require('../../models');\r\nconst { validateUserRegistration, encryptPassword, generateJwtToken } = require('../validations/userValidation');\r\n\r\nconst createUser = async (userData) => {\r\n  await validateUserRegistration(userData);\r\n  const hashedPassword = await encryptPassword(userData.password);\r\n\r\n  const newUser = await User.create({\r\n    firstName: userData.firstName,\r\n    lastName: userData.lastName,\r\n    email: userData.email,\r\n    birthOfDate: userData.birthOfDate,\r\n    preferredLanguage: userData.preferredLanguage,\r\n    preferredCurrency: userData.preferredCurrency,\r\n    whereYouLive: userData.whereYouLive,\r\n    role: userData.role,\r\n    department: userData.department,\r\n    lineManager: userData.lineManager,\r\n    gender: userData.gender,\r\n    telephoneNumber: userData.telephoneNumber,\r\n    password: hashedPassword\r\n  });\r\n\r\n  const token = generateJwtToken(newUser);\r\n  return { user: newUser, token };\r\n};\r\n\r\nmodule.exports = { createUser };\r\n"],"mappings":"AAAA,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,cAAc,CAAC;AACxC,MAAM;EAAEC,wBAAwB;EAAEC,eAAe;EAAEC;AAAiB,CAAC,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAEhH,MAAMI,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACrC,MAAMJ,wBAAwB,CAACI,QAAQ,CAAC;EACxC,MAAMC,cAAc,GAAG,MAAMJ,eAAe,CAACG,QAAQ,CAACE,QAAQ,CAAC;EAE/D,MAAMC,OAAO,GAAG,MAAMT,IAAI,CAACU,MAAM,CAAC;IAChCC,SAAS,EAAEL,QAAQ,CAACK,SAAS;IAC7BC,QAAQ,EAAEN,QAAQ,CAACM,QAAQ;IAC3BC,KAAK,EAAEP,QAAQ,CAACO,KAAK;IACrBC,WAAW,EAAER,QAAQ,CAACQ,WAAW;IACjCC,iBAAiB,EAAET,QAAQ,CAACS,iBAAiB;IAC7CC,iBAAiB,EAAEV,QAAQ,CAACU,iBAAiB;IAC7CC,YAAY,EAAEX,QAAQ,CAACW,YAAY;IACnCC,IAAI,EAAEZ,QAAQ,CAACY,IAAI;IACnBC,UAAU,EAAEb,QAAQ,CAACa,UAAU;IAC/BC,WAAW,EAAEd,QAAQ,CAACc,WAAW;IACjCC,MAAM,EAAEf,QAAQ,CAACe,MAAM;IACvBC,eAAe,EAAEhB,QAAQ,CAACgB,eAAe;IACzCd,QAAQ,EAAED;EACZ,CAAC,CAAC;EAEF,MAAMgB,KAAK,GAAGnB,gBAAgB,CAACK,OAAO,CAAC;EACvC,OAAO;IAAEe,IAAI,EAAEf,OAAO;IAAEc;EAAM,CAAC;AACjC,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAG;EAAErB;AAAW,CAAC","ignoreList":[]}