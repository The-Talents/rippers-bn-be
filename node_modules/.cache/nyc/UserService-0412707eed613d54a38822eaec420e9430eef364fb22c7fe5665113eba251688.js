function cov_ps78eqg1h(){var path="M:\\Production\\eric-nomad\\src\\Services\\UserService.js";var hash="8ef5dd5fda74bfea4f410d530e52fc756076452c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"M:\\Production\\eric-nomad\\src\\Services\\UserService.js",statementMap:{"0":{start:{line:3,column:4},end:{line:3,column:27}},"1":{start:{line:8,column:4},end:{line:8,column:44}},"2":{start:{line:9,column:19},end:{line:32,column:1}},"3":{start:{line:10,column:2},end:{line:10,column:43}},"4":{start:{line:11,column:25},end:{line:11,column:65}},"5":{start:{line:12,column:18},end:{line:26,column:4}},"6":{start:{line:27,column:16},end:{line:27,column:41}},"7":{start:{line:28,column:2},end:{line:31,column:4}},"8":{start:{line:33,column:0},end:{line:35,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:19},end:{line:9,column:20}},loc:{start:{line:9,column:37},end:{line:32,column:1}},line:9}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},f:{"0":0},b:{},inputSourceMap:{version:3,names:["User","require","validateUserRegistration","encryptPassword","generateJwtToken","createUser","userData","hashedPassword","password","newUser","create","firstName","lastName","email","birthOfDate","preferredLanguage","preferredCurrency","whereYouLive","role","department","lineManager","gender","telephoneNumber","token","user","module","exports"],sourceRoot:"M:\\Production\\eric-nomad\\src\\Services\\",sources:["UserService.js"],sourcesContent:["const { User } = require('../../models');\r\nconst { validateUserRegistration, encryptPassword, generateJwtToken } = require('../validations/userValidation');\r\n\r\nconst createUser = async (userData) => {\r\n  await validateUserRegistration(userData);\r\n  const hashedPassword = await encryptPassword(userData.password);\r\n\r\n  const newUser = await User.create({\r\n    firstName: userData.firstName,\r\n    lastName: userData.lastName,\r\n    email: userData.email,\r\n    birthOfDate: userData.birthOfDate,\r\n    preferredLanguage: userData.preferredLanguage,\r\n    preferredCurrency: userData.preferredCurrency,\r\n    whereYouLive: userData.whereYouLive,\r\n    role: userData.role,\r\n    department: userData.department,\r\n    lineManager: userData.lineManager,\r\n    gender: userData.gender,\r\n    telephoneNumber: userData.telephoneNumber,\r\n    password: hashedPassword\r\n  });\r\n\r\n  const token = generateJwtToken(newUser);\r\n  return { user: newUser, token };\r\n};\r\n\r\nmodule.exports = { createUser };\r\n"],mappings:"AAAA,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,cAAc,CAAC;AACxC,MAAM;EAAEC,wBAAwB;EAAEC,eAAe;EAAEC;AAAiB,CAAC,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAEhH,MAAMI,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACrC,MAAMJ,wBAAwB,CAACI,QAAQ,CAAC;EACxC,MAAMC,cAAc,GAAG,MAAMJ,eAAe,CAACG,QAAQ,CAACE,QAAQ,CAAC;EAE/D,MAAMC,OAAO,GAAG,MAAMT,IAAI,CAACU,MAAM,CAAC;IAChCC,SAAS,EAAEL,QAAQ,CAACK,SAAS;IAC7BC,QAAQ,EAAEN,QAAQ,CAACM,QAAQ;IAC3BC,KAAK,EAAEP,QAAQ,CAACO,KAAK;IACrBC,WAAW,EAAER,QAAQ,CAACQ,WAAW;IACjCC,iBAAiB,EAAET,QAAQ,CAACS,iBAAiB;IAC7CC,iBAAiB,EAAEV,QAAQ,CAACU,iBAAiB;IAC7CC,YAAY,EAAEX,QAAQ,CAACW,YAAY;IACnCC,IAAI,EAAEZ,QAAQ,CAACY,IAAI;IACnBC,UAAU,EAAEb,QAAQ,CAACa,UAAU;IAC/BC,WAAW,EAAEd,QAAQ,CAACc,WAAW;IACjCC,MAAM,EAAEf,QAAQ,CAACe,MAAM;IACvBC,eAAe,EAAEhB,QAAQ,CAACgB,eAAe;IACzCd,QAAQ,EAAED;EACZ,CAAC,CAAC;EAEF,MAAMgB,KAAK,GAAGnB,gBAAgB,CAACK,OAAO,CAAC;EACvC,OAAO;IAAEe,IAAI,EAAEf,OAAO;IAAEc;EAAM,CAAC;AACjC,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAG;EAAErB;AAAW,CAAC",ignoreList:[]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8ef5dd5fda74bfea4f410d530e52fc756076452c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ps78eqg1h=function(){return actualCoverage;};}return actualCoverage;}cov_ps78eqg1h();const{User}=(cov_ps78eqg1h().s[0]++,require('../../models'));const{validateUserRegistration,encryptPassword,generateJwtToken}=(cov_ps78eqg1h().s[1]++,require('../validations/userValidation'));cov_ps78eqg1h().s[2]++;const createUser=async userData=>{cov_ps78eqg1h().f[0]++;cov_ps78eqg1h().s[3]++;await validateUserRegistration(userData);const hashedPassword=(cov_ps78eqg1h().s[4]++,await encryptPassword(userData.password));const newUser=(cov_ps78eqg1h().s[5]++,await User.create({firstName:userData.firstName,lastName:userData.lastName,email:userData.email,birthOfDate:userData.birthOfDate,preferredLanguage:userData.preferredLanguage,preferredCurrency:userData.preferredCurrency,whereYouLive:userData.whereYouLive,role:userData.role,department:userData.department,lineManager:userData.lineManager,gender:userData.gender,telephoneNumber:userData.telephoneNumber,password:hashedPassword}));const token=(cov_ps78eqg1h().s[6]++,generateJwtToken(newUser));cov_ps78eqg1h().s[7]++;return{user:newUser,token};};cov_ps78eqg1h().s[8]++;module.exports={createUser};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsInZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiIsImVuY3J5cHRQYXNzd29yZCIsImdlbmVyYXRlSnd0VG9rZW4iLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJoYXNoZWRQYXNzd29yZCIsInBhc3N3b3JkIiwibmV3VXNlciIsImNyZWF0ZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJiaXJ0aE9mRGF0ZSIsInByZWZlcnJlZExhbmd1YWdlIiwicHJlZmVycmVkQ3VycmVuY3kiLCJ3aGVyZVlvdUxpdmUiLCJyb2xlIiwiZGVwYXJ0bWVudCIsImxpbmVNYW5hZ2VyIiwiZ2VuZGVyIiwidGVsZXBob25lTnVtYmVyIiwidG9rZW4iLCJ1c2VyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiTTpcXFByb2R1Y3Rpb25cXGVyaWMtbm9tYWRcXHNyY1xcU2VydmljZXNcXCIsInNvdXJjZXMiOlsiVXNlclNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBVc2VyIH0gPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMnKTtcclxuY29uc3QgeyB2YWxpZGF0ZVVzZXJSZWdpc3RyYXRpb24sIGVuY3J5cHRQYXNzd29yZCwgZ2VuZXJhdGVKd3RUb2tlbiB9ID0gcmVxdWlyZSgnLi4vdmFsaWRhdGlvbnMvdXNlclZhbGlkYXRpb24nKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVzZXIgPSBhc3luYyAodXNlckRhdGEpID0+IHtcclxuICBhd2FpdCB2YWxpZGF0ZVVzZXJSZWdpc3RyYXRpb24odXNlckRhdGEpO1xyXG4gIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgZW5jcnlwdFBhc3N3b3JkKHVzZXJEYXRhLnBhc3N3b3JkKTtcclxuXHJcbiAgY29uc3QgbmV3VXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcclxuICAgIGZpcnN0TmFtZTogdXNlckRhdGEuZmlyc3ROYW1lLFxyXG4gICAgbGFzdE5hbWU6IHVzZXJEYXRhLmxhc3ROYW1lLFxyXG4gICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLFxyXG4gICAgYmlydGhPZkRhdGU6IHVzZXJEYXRhLmJpcnRoT2ZEYXRlLFxyXG4gICAgcHJlZmVycmVkTGFuZ3VhZ2U6IHVzZXJEYXRhLnByZWZlcnJlZExhbmd1YWdlLFxyXG4gICAgcHJlZmVycmVkQ3VycmVuY3k6IHVzZXJEYXRhLnByZWZlcnJlZEN1cnJlbmN5LFxyXG4gICAgd2hlcmVZb3VMaXZlOiB1c2VyRGF0YS53aGVyZVlvdUxpdmUsXHJcbiAgICByb2xlOiB1c2VyRGF0YS5yb2xlLFxyXG4gICAgZGVwYXJ0bWVudDogdXNlckRhdGEuZGVwYXJ0bWVudCxcclxuICAgIGxpbmVNYW5hZ2VyOiB1c2VyRGF0YS5saW5lTWFuYWdlcixcclxuICAgIGdlbmRlcjogdXNlckRhdGEuZ2VuZGVyLFxyXG4gICAgdGVsZXBob25lTnVtYmVyOiB1c2VyRGF0YS50ZWxlcGhvbmVOdW1iZXIsXHJcbiAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmRcclxuICB9KTtcclxuXHJcbiAgY29uc3QgdG9rZW4gPSBnZW5lcmF0ZUp3dFRva2VuKG5ld1VzZXIpO1xyXG4gIHJldHVybiB7IHVzZXI6IG5ld1VzZXIsIHRva2VuIH07XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgY3JlYXRlVXNlciB9O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBSyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDeEMsTUFBTTtFQUFFQyx3QkFBd0I7RUFBRUMsZUFBZTtFQUFFQztBQUFpQixDQUFDLEdBQUdILE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQUVoSCxNQUFNSSxVQUFVLEdBQUcsTUFBT0MsUUFBUSxJQUFLO0VBQ3JDLE1BQU1KLHdCQUF3QixDQUFDSSxRQUFRLENBQUM7RUFDeEMsTUFBTUMsY0FBYyxHQUFHLE1BQU1KLGVBQWUsQ0FBQ0csUUFBUSxDQUFDRSxRQUFRLENBQUM7RUFFL0QsTUFBTUMsT0FBTyxHQUFHLE1BQU1ULElBQUksQ0FBQ1UsTUFBTSxDQUFDO0lBQ2hDQyxTQUFTLEVBQUVMLFFBQVEsQ0FBQ0ssU0FBUztJQUM3QkMsUUFBUSxFQUFFTixRQUFRLENBQUNNLFFBQVE7SUFDM0JDLEtBQUssRUFBRVAsUUFBUSxDQUFDTyxLQUFLO0lBQ3JCQyxXQUFXLEVBQUVSLFFBQVEsQ0FBQ1EsV0FBVztJQUNqQ0MsaUJBQWlCLEVBQUVULFFBQVEsQ0FBQ1MsaUJBQWlCO0lBQzdDQyxpQkFBaUIsRUFBRVYsUUFBUSxDQUFDVSxpQkFBaUI7SUFDN0NDLFlBQVksRUFBRVgsUUFBUSxDQUFDVyxZQUFZO0lBQ25DQyxJQUFJLEVBQUVaLFFBQVEsQ0FBQ1ksSUFBSTtJQUNuQkMsVUFBVSxFQUFFYixRQUFRLENBQUNhLFVBQVU7SUFDL0JDLFdBQVcsRUFBRWQsUUFBUSxDQUFDYyxXQUFXO0lBQ2pDQyxNQUFNLEVBQUVmLFFBQVEsQ0FBQ2UsTUFBTTtJQUN2QkMsZUFBZSxFQUFFaEIsUUFBUSxDQUFDZ0IsZUFBZTtJQUN6Q2QsUUFBUSxFQUFFRDtFQUNaLENBQUMsQ0FBQztFQUVGLE1BQU1nQixLQUFLLEdBQUduQixnQkFBZ0IsQ0FBQ0ssT0FBTyxDQUFDO0VBQ3ZDLE9BQU87SUFBRWUsSUFBSSxFQUFFZixPQUFPO0lBQUVjO0VBQU0sQ0FBQztBQUNqQyxDQUFDO0FBRURFLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUVyQjtBQUFXLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfcHM3OGVxZzFoIiwiYWN0dWFsQ292ZXJhZ2UiLCJVc2VyIiwicyIsInJlcXVpcmUiLCJ2YWxpZGF0ZVVzZXJSZWdpc3RyYXRpb24iLCJlbmNyeXB0UGFzc3dvcmQiLCJnZW5lcmF0ZUp3dFRva2VuIiwiY3JlYXRlVXNlciIsInVzZXJEYXRhIiwiZiIsImhhc2hlZFBhc3N3b3JkIiwicGFzc3dvcmQiLCJuZXdVc2VyIiwiY3JlYXRlIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImJpcnRoT2ZEYXRlIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJwcmVmZXJyZWRDdXJyZW5jeSIsIndoZXJlWW91TGl2ZSIsInJvbGUiLCJkZXBhcnRtZW50IiwibGluZU1hbmFnZXIiLCJnZW5kZXIiLCJ0ZWxlcGhvbmVOdW1iZXIiLCJ0b2tlbiIsInVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiTTpcXFByb2R1Y3Rpb25cXGVyaWMtbm9tYWRcXHNyY1xcU2VydmljZXNcXC9Vc2VyU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IFVzZXIgfSA9IHJlcXVpcmUoJy4uLy4uL21vZGVscycpO1xyXG5jb25zdCB7IHZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiwgZW5jcnlwdFBhc3N3b3JkLCBnZW5lcmF0ZUp3dFRva2VuIH0gPSByZXF1aXJlKCcuLi92YWxpZGF0aW9ucy91c2VyVmFsaWRhdGlvbicpO1xyXG5cclxuY29uc3QgY3JlYXRlVXNlciA9IGFzeW5jICh1c2VyRGF0YSkgPT4ge1xyXG4gIGF3YWl0IHZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbih1c2VyRGF0YSk7XHJcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBlbmNyeXB0UGFzc3dvcmQodXNlckRhdGEucGFzc3dvcmQpO1xyXG5cclxuICBjb25zdCBuZXdVc2VyID0gYXdhaXQgVXNlci5jcmVhdGUoe1xyXG4gICAgZmlyc3ROYW1lOiB1c2VyRGF0YS5maXJzdE5hbWUsXHJcbiAgICBsYXN0TmFtZTogdXNlckRhdGEubGFzdE5hbWUsXHJcbiAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICBiaXJ0aE9mRGF0ZTogdXNlckRhdGEuYmlydGhPZkRhdGUsXHJcbiAgICBwcmVmZXJyZWRMYW5ndWFnZTogdXNlckRhdGEucHJlZmVycmVkTGFuZ3VhZ2UsXHJcbiAgICBwcmVmZXJyZWRDdXJyZW5jeTogdXNlckRhdGEucHJlZmVycmVkQ3VycmVuY3ksXHJcbiAgICB3aGVyZVlvdUxpdmU6IHVzZXJEYXRhLndoZXJlWW91TGl2ZSxcclxuICAgIHJvbGU6IHVzZXJEYXRhLnJvbGUsXHJcbiAgICBkZXBhcnRtZW50OiB1c2VyRGF0YS5kZXBhcnRtZW50LFxyXG4gICAgbGluZU1hbmFnZXI6IHVzZXJEYXRhLmxpbmVNYW5hZ2VyLFxyXG4gICAgZ2VuZGVyOiB1c2VyRGF0YS5nZW5kZXIsXHJcbiAgICB0ZWxlcGhvbmVOdW1iZXI6IHVzZXJEYXRhLnRlbGVwaG9uZU51bWJlcixcclxuICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB0b2tlbiA9IGdlbmVyYXRlSnd0VG9rZW4obmV3VXNlcik7XHJcbiAgcmV0dXJuIHsgdXNlcjogbmV3VXNlciwgdG9rZW4gfTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBjcmVhdGVVc2VyIH07XHJcbiJdLCJtYXBwaW5ncyI6ImtySEFXSTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FYSixLQUFNLENBQUVFLElBQUssQ0FBQyxFQUFBRixhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQyxFQUN4QyxLQUFNLENBQUVDLHdCQUF3QixDQUFFQyxlQUFlLENBQUVDLGdCQUFpQixDQUFDLEVBQUFQLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsK0JBQStCLENBQUMsRUFBQUosYUFBQSxHQUFBRyxDQUFBLE1BRWhILEtBQU0sQ0FBQUssVUFBVSxDQUFHLEtBQU8sQ0FBQUMsUUFBUSxFQUFLLENBQUFULGFBQUEsR0FBQVUsQ0FBQSxNQUFBVixhQUFBLEdBQUFHLENBQUEsTUFDckMsS0FBTSxDQUFBRSx3QkFBd0IsQ0FBQ0ksUUFBUSxDQUFDLENBQ3hDLEtBQU0sQ0FBQUUsY0FBYyxFQUFBWCxhQUFBLEdBQUFHLENBQUEsTUFBRyxLQUFNLENBQUFHLGVBQWUsQ0FBQ0csUUFBUSxDQUFDRyxRQUFRLENBQUMsRUFFL0QsS0FBTSxDQUFBQyxPQUFPLEVBQUFiLGFBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUQsSUFBSSxDQUFDWSxNQUFNLENBQUMsQ0FDaENDLFNBQVMsQ0FBRU4sUUFBUSxDQUFDTSxTQUFTLENBQzdCQyxRQUFRLENBQUVQLFFBQVEsQ0FBQ08sUUFBUSxDQUMzQkMsS0FBSyxDQUFFUixRQUFRLENBQUNRLEtBQUssQ0FDckJDLFdBQVcsQ0FBRVQsUUFBUSxDQUFDUyxXQUFXLENBQ2pDQyxpQkFBaUIsQ0FBRVYsUUFBUSxDQUFDVSxpQkFBaUIsQ0FDN0NDLGlCQUFpQixDQUFFWCxRQUFRLENBQUNXLGlCQUFpQixDQUM3Q0MsWUFBWSxDQUFFWixRQUFRLENBQUNZLFlBQVksQ0FDbkNDLElBQUksQ0FBRWIsUUFBUSxDQUFDYSxJQUFJLENBQ25CQyxVQUFVLENBQUVkLFFBQVEsQ0FBQ2MsVUFBVSxDQUMvQkMsV0FBVyxDQUFFZixRQUFRLENBQUNlLFdBQVcsQ0FDakNDLE1BQU0sQ0FBRWhCLFFBQVEsQ0FBQ2dCLE1BQU0sQ0FDdkJDLGVBQWUsQ0FBRWpCLFFBQVEsQ0FBQ2lCLGVBQWUsQ0FDekNkLFFBQVEsQ0FBRUQsY0FDWixDQUFDLENBQUMsRUFFRixLQUFNLENBQUFnQixLQUFLLEVBQUEzQixhQUFBLEdBQUFHLENBQUEsTUFBR0ksZ0JBQWdCLENBQUNNLE9BQU8sQ0FBQyxFQUFBYixhQUFBLEdBQUFHLENBQUEsTUFDdkMsTUFBTyxDQUFFeUIsSUFBSSxDQUFFZixPQUFPLENBQUVjLEtBQU0sQ0FBQyxDQUNqQyxDQUFDLENBQUEzQixhQUFBLEdBQUFHLENBQUEsTUFFRDBCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHLENBQUV0QixVQUFXLENBQUMsQyIsImlnbm9yZUxpc3QiOltdfQ==