{"D:\\rippers\\rippers-bn-be\\src\\server.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\server.js","statementMap":{"0":{"start":{"line":1,"column":15},"end":{"line":1,"column":32}},"1":{"start":{"line":2,"column":16},"end":{"line":2,"column":34}},"2":{"start":{"line":3,"column":19},"end":{"line":3,"column":41}},"3":{"start":{"line":4,"column":18},"end":{"line":4,"column":47}},"4":{"start":{"line":5,"column":24},"end":{"line":5,"column":50}},"5":{"start":{"line":6,"column":19},"end":{"line":6,"column":49}},"6":{"start":{"line":7,"column":19},"end":{"line":7,"column":49}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":16}},"8":{"start":{"line":11,"column":12},"end":{"line":11,"column":21}},"9":{"start":{"line":12,"column":13},"end":{"line":12,"column":37}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":31}},"13":{"start":{"line":22,"column":0},"end":{"line":22,"column":72}},"14":{"start":{"line":25,"column":0},"end":{"line":27,"column":3}},"15":{"start":{"line":26,"column":2},"end":{"line":26,"column":48}},"16":{"start":{"line":28,"column":0},"end":{"line":28,"column":21}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":25,"column":17},"end":{"line":25,"column":18}},"loc":{"start":{"line":25,"column":23},"end":{"line":27,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":37}},"type":"binary-expr","locations":[{"start":{"line":12,"column":13},"end":{"line":12,"column":29}},{"start":{"line":12,"column":33},"end":{"line":12,"column":37}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":1},"b":{"0":[1,0]},"inputSourceMap":{"version":3,"names":["dotenv","require","express","bodyParser","swaggerUi","swaggerDocument","userRoutes","authRoutes","config","app","PORT","process","env","use","json","serve","setup","listen","console","log","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\","sources":["server.js"],"sourcesContent":["const dotenv = require('dotenv');\r\nconst express = require('express');\r\nconst bodyParser = require('body-parser'); // Import body-parser for JSON parsing\r\nconst swaggerUi = require('swagger-ui-express');\r\nconst swaggerDocument = require('../swagger.json'); // Assuming your swagger.json is located at this path\r\nconst userRoutes = require('./routes/userRoutes'); // Import user routes\r\nconst authRoutes = require('./routes/authRoutes');\r\n\r\n// Load environment variables from .env file\r\ndotenv.config();\r\n\r\nconst app = express();\r\nconst PORT = process.env.PORT || 3000;\r\n\r\n// Middleware to parse JSON\r\napp.use(bodyParser.json());\r\n\r\n\r\n\r\n// Set up user routes\r\napp.use('/api/users', userRoutes); // Register the user routes\r\napp.use('/api/v1', authRoutes);\r\n\r\n\r\n// Swagger API documentation route\r\napp.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument));\r\n\r\n// Start the server\r\napp.listen(PORT, () => {\r\n  console.log(`Server running on port ${PORT}`);\r\n});\r\n\r\nmodule.exports = app;\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAS,CAAC;AAClC,MAAME,UAAU,GAAGF,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;AAC3C,MAAMG,SAAS,GAAGH,OAAO,CAAC,oBAAoB,CAAC;AAC/C,MAAMI,eAAe,GAAGJ,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACpD,MAAMK,UAAU,GAAGL,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAAC;AACnD,MAAMM,UAAU,GAAGN,OAAO,CAAC,qBAAqB,CAAC;;AAEjD;AACAD,MAAM,CAACQ,MAAM,CAAC,CAAC;AAEf,MAAMC,GAAG,GAAGP,OAAO,CAAC,CAAC;AACrB,MAAMQ,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;;AAErC;AACAD,GAAG,CAACI,GAAG,CAACV,UAAU,CAACW,IAAI,CAAC,CAAC,CAAC;;AAI1B;AACAL,GAAG,CAACI,GAAG,CAAC,YAAY,EAAEP,UAAU,CAAC,CAAC,CAAC;AACnCG,GAAG,CAACI,GAAG,CAAC,SAAS,EAAEN,UAAU,CAAC;;AAG9B;AACAE,GAAG,CAACI,GAAG,CAAC,WAAW,EAAET,SAAS,CAACW,KAAK,EAAEX,SAAS,CAACY,KAAK,CAACX,eAAe,CAAC,CAAC;;AAEvE;AACAI,GAAG,CAACQ,MAAM,CAACP,IAAI,EAAE,MAAM;EACrBQ,OAAO,CAACC,GAAG,CAAC,0BAA0BT,IAAI,EAAE,CAAC;AAC/C,CAAC,CAAC;AAEFU,MAAM,CAACC,OAAO,GAAGZ,GAAG","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3496adc130d886f2a03b105416a3e274b55ffed8","contentHash":"e81f1e80e1de9f03053c3f585c09c554921df5aa33666d0d4965a488af099f2b"},"D:\\rippers\\rippers-bn-be\\src\\routes\\userRoutes.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\routes\\userRoutes.js","statementMap":{"0":{"start":{"line":1,"column":16},"end":{"line":1,"column":34}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":44}},"2":{"start":{"line":5,"column":15},"end":{"line":5,"column":31}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["express","require","userRegistrationController","router","Router","post","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\routes\\","sources":["userRoutes.js"],"sourcesContent":["const express = require('express');\r\nconst { userRegistrationController } = require('../controllers/userController');\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/register', userRegistrationController);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEC;AAA2B,CAAC,GAAGD,OAAO,CAAC,+BAA+B,CAAC;AAE/E,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEH,0BAA0B,CAAC;AAEpDI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"464e1d417a466fb1a4a2814eb0681167c254b7f1","contentHash":"761f780f0f5ea0fe2491ef656c45c871b51d6a733a0fabae5fd81172b77548a0"},"D:\\rippers\\rippers-bn-be\\src\\controllers\\userController.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\controllers\\userController.js","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":38}},"1":{"start":{"line":4,"column":35},"end":{"line":21,"column":1}},"2":{"start":{"line":5,"column":2},"end":{"line":20,"column":3}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":29}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":34}},"5":{"start":{"line":11,"column":4},"end":{"line":15,"column":7}},"6":{"start":{"line":17,"column":4},"end":{"line":19,"column":7}},"7":{"start":{"line":22,"column":0},"end":{"line":24,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":35},"end":{"line":4,"column":36}},"loc":{"start":{"line":4,"column":55},"end":{"line":21,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":69}},"type":"binary-expr","locations":[{"start":{"line":18,"column":15},"end":{"line":18,"column":26}},{"start":{"line":18,"column":30},"end":{"line":18,"column":69}}],"line":18}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"names":["createUser","require","userRegistrationController","req","res","userData","body","user","token","status","json","message","err","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\controllers\\","sources":["userController.js"],"sourcesContent":["const { createUser } = require('../Services/UserService');\r\n\r\nconst userRegistrationController = async (req, res) => {\r\n  try {\r\n    const userData = req.body;\r\n    \r\n    const { user, token } = await createUser(userData);\r\n    return res.status(201).json({\r\n      message: 'User successfully registered',\r\n      user,\r\n      token\r\n    });\r\n  } catch (err) {\r\n    return res.status(400).json({\r\n      message: err.message || 'An error occurred during registration'\r\n    });\r\n  }\r\n};\r\n\r\nmodule.exports = { userRegistrationController };\r\n"],"mappings":"AAAA,MAAM;EAAEA;AAAW,CAAC,GAAGC,OAAO,CAAC,yBAAyB,CAAC;AAEzD,MAAMC,0BAA0B,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACrD,IAAI;IACF,MAAMC,QAAQ,GAAGF,GAAG,CAACG,IAAI;IAEzB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMR,UAAU,CAACK,QAAQ,CAAC;IAClD,OAAOD,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,8BAA8B;MACvCJ,IAAI;MACJC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOI,GAAG,EAAE;IACZ,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEC,GAAG,CAACD,OAAO,IAAI;IAC1B,CAAC,CAAC;EACJ;AACF,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAG;EAAEZ;AAA2B,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"398bf7157f94b4f78a41bcfeea8106d2ebdd39f9","contentHash":"b8a49dda0d2bc471145bcad2b46dfd778645fa5df3ae62ded98e70123ed5a9b4"},"D:\\rippers\\rippers-bn-be\\src\\Services\\UserService.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\Services\\UserService.js","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":27}},"1":{"start":{"line":8,"column":4},"end":{"line":8,"column":44}},"2":{"start":{"line":9,"column":19},"end":{"line":32,"column":1}},"3":{"start":{"line":10,"column":2},"end":{"line":10,"column":43}},"4":{"start":{"line":11,"column":25},"end":{"line":11,"column":65}},"5":{"start":{"line":12,"column":18},"end":{"line":26,"column":4}},"6":{"start":{"line":27,"column":16},"end":{"line":27,"column":41}},"7":{"start":{"line":28,"column":2},"end":{"line":31,"column":4}},"8":{"start":{"line":33,"column":0},"end":{"line":35,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":19},"end":{"line":9,"column":20}},"loc":{"start":{"line":9,"column":37},"end":{"line":32,"column":1}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"names":["User","require","validateUserRegistration","encryptPassword","generateJwtToken","createUser","userData","hashedPassword","password","newUser","create","firstName","lastName","email","birthOfDate","preferredLanguage","preferredCurrency","whereYouLive","role","department","lineManager","gender","telephoneNumber","token","user","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\Services\\","sources":["UserService.js"],"sourcesContent":["const { User } = require('../../models');\r\nconst { validateUserRegistration, encryptPassword, generateJwtToken } = require('../validations/userValidation');\r\n\r\nconst createUser = async (userData) => {\r\n  await validateUserRegistration(userData);\r\n  const hashedPassword = await encryptPassword(userData.password);\r\n\r\n  const newUser = await User.create({\r\n    firstName: userData.firstName,\r\n    lastName: userData.lastName,\r\n    email: userData.email,\r\n    birthOfDate: userData.birthOfDate,\r\n    preferredLanguage: userData.preferredLanguage,\r\n    preferredCurrency: userData.preferredCurrency,\r\n    whereYouLive: userData.whereYouLive,\r\n    role: userData.role,\r\n    department: userData.department,\r\n    lineManager: userData.lineManager,\r\n    gender: userData.gender,\r\n    telephoneNumber: userData.telephoneNumber,\r\n    password: hashedPassword\r\n  });\r\n\r\n  const token = generateJwtToken(newUser);\r\n  return { user: newUser, token };\r\n};\r\n\r\nmodule.exports = { createUser };\r\n"],"mappings":"AAAA,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,cAAc,CAAC;AACxC,MAAM;EAAEC,wBAAwB;EAAEC,eAAe;EAAEC;AAAiB,CAAC,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAEhH,MAAMI,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACrC,MAAMJ,wBAAwB,CAACI,QAAQ,CAAC;EACxC,MAAMC,cAAc,GAAG,MAAMJ,eAAe,CAACG,QAAQ,CAACE,QAAQ,CAAC;EAE/D,MAAMC,OAAO,GAAG,MAAMT,IAAI,CAACU,MAAM,CAAC;IAChCC,SAAS,EAAEL,QAAQ,CAACK,SAAS;IAC7BC,QAAQ,EAAEN,QAAQ,CAACM,QAAQ;IAC3BC,KAAK,EAAEP,QAAQ,CAACO,KAAK;IACrBC,WAAW,EAAER,QAAQ,CAACQ,WAAW;IACjCC,iBAAiB,EAAET,QAAQ,CAACS,iBAAiB;IAC7CC,iBAAiB,EAAEV,QAAQ,CAACU,iBAAiB;IAC7CC,YAAY,EAAEX,QAAQ,CAACW,YAAY;IACnCC,IAAI,EAAEZ,QAAQ,CAACY,IAAI;IACnBC,UAAU,EAAEb,QAAQ,CAACa,UAAU;IAC/BC,WAAW,EAAEd,QAAQ,CAACc,WAAW;IACjCC,MAAM,EAAEf,QAAQ,CAACe,MAAM;IACvBC,eAAe,EAAEhB,QAAQ,CAACgB,eAAe;IACzCd,QAAQ,EAAED;EACZ,CAAC,CAAC;EAEF,MAAMgB,KAAK,GAAGnB,gBAAgB,CAACK,OAAO,CAAC;EACvC,OAAO;IAAEe,IAAI,EAAEf,OAAO;IAAEc;EAAM,CAAC;AACjC,CAAC;AAEDE,MAAM,CAACC,OAAO,GAAG;EAAErB;AAAW,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"94f043f1eb2823dfec4c558964c69cf984417a8a","contentHash":"693f5c341ec2b8040a97d551e17cf622bc9d2532f99eef8dd53393ed969577e2"},"D:\\rippers\\rippers-bn-be\\models\\index.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\index.js","statementMap":{"0":{"start":{"line":3,"column":11},"end":{"line":3,"column":24}},"1":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"2":{"start":{"line":5,"column":18},"end":{"line":5,"column":38}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":42}},"4":{"start":{"line":7,"column":12},"end":{"line":7,"column":49}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":63}},"6":{"start":{"line":9,"column":11},"end":{"line":9,"column":13}},"7":{"start":{"line":13,"column":0},"end":{"line":17,"column":1}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":74}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":87}},"10":{"start":{"line":20,"column":0},"end":{"line":25,"column":3}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":117}},"12":{"start":{"line":23,"column":16},"end":{"line":23,"column":83}},"13":{"start":{"line":24,"column":2},"end":{"line":24,"column":25}},"14":{"start":{"line":28,"column":0},"end":{"line":32,"column":3}},"15":{"start":{"line":29,"column":2},"end":{"line":31,"column":3}},"16":{"start":{"line":30,"column":4},"end":{"line":30,"column":32}},"17":{"start":{"line":33,"column":0},"end":{"line":33,"column":25}},"18":{"start":{"line":34,"column":0},"end":{"line":34,"column":25}},"19":{"start":{"line":35,"column":0},"end":{"line":35,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":20,"column":33},"end":{"line":20,"column":34}},"loc":{"start":{"line":20,"column":41},"end":{"line":22,"column":1}},"line":20},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":11},"end":{"line":22,"column":12}},"loc":{"start":{"line":22,"column":19},"end":{"line":25,"column":1}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":24},"end":{"line":28,"column":25}},"loc":{"start":{"line":28,"column":37},"end":{"line":32,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":12},"end":{"line":7,"column":49}},"type":"binary-expr","locations":[{"start":{"line":7,"column":12},"end":{"line":7,"column":32}},{"start":{"line":7,"column":36},"end":{"line":7,"column":49}}],"line":7},"1":{"loc":{"start":{"line":13,"column":0},"end":{"line":17,"column":1}},"type":"if","locations":[{"start":{"line":13,"column":0},"end":{"line":17,"column":1}},{"start":{"line":13,"column":0},"end":{"line":17,"column":1}}],"line":13},"2":{"loc":{"start":{"line":21,"column":9},"end":{"line":21,"column":116}},"type":"binary-expr","locations":[{"start":{"line":21,"column":9},"end":{"line":21,"column":32}},{"start":{"line":21,"column":36},"end":{"line":21,"column":53}},{"start":{"line":21,"column":57},"end":{"line":21,"column":81}},{"start":{"line":21,"column":85},"end":{"line":21,"column":116}}],"line":21},"3":{"loc":{"start":{"line":29,"column":2},"end":{"line":31,"column":3}},"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":31,"column":3}},{"start":{"line":29,"column":2},"end":{"line":31,"column":3}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":8,"12":7,"13":7,"14":1,"15":7,"16":7,"17":1,"18":1,"19":1},"f":{"0":8,"1":7,"2":7},"b":{"0":[1,1],"1":[0,1],"2":[8,8,7,7],"3":[7,0]},"inputSourceMap":{"version":3,"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["index.js"],"sourcesContent":["'use strict';\r\n\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst Sequelize = require('sequelize');\r\nconst basename = path.basename(__filename);\r\nconst env = process.env.NODE_ENV || 'development';\r\nconst config = require(__dirname + '/../config/config.js')[env];\r\nconst db = {};\r\n\r\n// Initialize Sequelize\r\nlet sequelize;\r\nif (config.use_env_variable) {\r\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\r\n} else {\r\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\r\n}\r\n\r\n// Load all models\r\nfs.readdirSync(__dirname)\r\n  .filter(file => {\r\n    return (\r\n      file.indexOf('.') !== 0 &&\r\n      file !== basename &&\r\n      file.slice(-3) === '.js' &&\r\n      file.indexOf('.test.js') === -1\r\n    );\r\n  })\r\n  .forEach(file => {\r\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\r\n    db[model.name] = model;\r\n  });\r\n\r\n// Associate models\r\nObject.keys(db).forEach(modelName => {\r\n  if (db[modelName].associate) {\r\n    db[modelName].associate(db);\r\n  }\r\n});\r\n\r\ndb.sequelize = sequelize;\r\ndb.Sequelize = Sequelize;\r\n\r\nmodule.exports = db;"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAW,CAAC;AACtC,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAQ,CAACC,UAAU,CAAC;AAC1C,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAG,CAACE,QAAQ,IAAI,aAAa;AACjD,MAAMC,MAAM,GAAGR,OAAO,CAACS,SAAS,GAAG,sBAAsB,CAAC,CAACJ,GAAG,CAAC;AAC/D,MAAMK,EAAE,GAAG,CAAC,CAAC;;AAEb;AACA,IAAIC,SAAS;AACb,IAAIH,MAAM,CAACI,gBAAgB,EAAE;EAC3BD,SAAS,GAAG,IAAIT,SAAS,CAACI,OAAO,CAACD,GAAG,CAACG,MAAM,CAACI,gBAAgB,CAAC,EAAEJ,MAAM,CAAC;AACzE,CAAC,MAAM;EACLG,SAAS,GAAG,IAAIT,SAAS,CAACM,MAAM,CAACK,QAAQ,EAAEL,MAAM,CAACM,QAAQ,EAAEN,MAAM,CAACO,QAAQ,EAAEP,MAAM,CAAC;AACtF;;AAEA;AACAT,EAAE,CAACiB,WAAW,CAACP,SAAS,CAAC,CACtBQ,MAAM,CAACC,IAAI,IAAI;EACd,OACEA,IAAI,CAACC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IACvBD,IAAI,KAAKf,QAAQ,IACjBe,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,IACxBF,IAAI,CAACC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAEnC,CAAC,CAAC,CACDE,OAAO,CAACH,IAAI,IAAI;EACf,MAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAI,CAACd,SAAS,EAAES,IAAI,CAAC,CAAC,CAACP,SAAS,EAAET,SAAS,CAACsB,SAAS,CAAC;EACjFd,EAAE,CAACY,KAAK,CAACG,IAAI,CAAC,GAAGH,KAAK;AACxB,CAAC,CAAC;;AAEJ;AACAI,MAAM,CAACC,IAAI,CAACjB,EAAE,CAAC,CAACW,OAAO,CAACO,SAAS,IAAI;EACnC,IAAIlB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,EAAE;IAC3BnB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,CAACnB,EAAE,CAAC;EAC7B;AACF,CAAC,CAAC;AAEFA,EAAE,CAACC,SAAS,GAAGA,SAAS;AACxBD,EAAE,CAACR,SAAS,GAAGA,SAAS;AAExB4B,MAAM,CAACC,OAAO,GAAGrB,EAAE","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"22da7824fec9f691fa8dc89acef14f0ce8dcc487","contentHash":"d5648edcbb0aaae4129d77085d2dd21e6bff9fed691d6d66b5e52aa47030c09c"},"D:\\rippers\\rippers-bn-be\\config\\config.js":{"path":"D:\\rippers\\rippers-bn-be\\config\\config.js","statementMap":{"0":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"1":{"start":{"line":3,"column":0},"end":{"line":28,"column":2}}},"fnMap":{},"branchMap":{"0":{"loc":{"start":{"line":5,"column":14},"end":{"line":5,"column":47}},"type":"binary-expr","locations":[{"start":{"line":5,"column":14},"end":{"line":5,"column":33}},{"start":{"line":5,"column":37},"end":{"line":5,"column":47}}],"line":5},"1":{"loc":{"start":{"line":6,"column":14},"end":{"line":6,"column":51}},"type":"binary-expr","locations":[{"start":{"line":6,"column":14},"end":{"line":6,"column":37}},{"start":{"line":6,"column":41},"end":{"line":6,"column":51}}],"line":6},"2":{"loc":{"start":{"line":7,"column":14},"end":{"line":7,"column":51}},"type":"binary-expr","locations":[{"start":{"line":7,"column":14},"end":{"line":7,"column":33}},{"start":{"line":7,"column":37},"end":{"line":7,"column":51}}],"line":7},"3":{"loc":{"start":{"line":8,"column":10},"end":{"line":8,"column":44}},"type":"binary-expr","locations":[{"start":{"line":8,"column":10},"end":{"line":8,"column":29}},{"start":{"line":8,"column":33},"end":{"line":8,"column":44}}],"line":8},"4":{"loc":{"start":{"line":9,"column":10},"end":{"line":9,"column":37}},"type":"binary-expr","locations":[{"start":{"line":9,"column":10},"end":{"line":9,"column":29}},{"start":{"line":9,"column":33},"end":{"line":9,"column":37}}],"line":9},"5":{"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":47}},"type":"binary-expr","locations":[{"start":{"line":13,"column":14},"end":{"line":13,"column":33}},{"start":{"line":13,"column":37},"end":{"line":13,"column":47}}],"line":13},"6":{"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":51}},"type":"binary-expr","locations":[{"start":{"line":14,"column":14},"end":{"line":14,"column":37}},{"start":{"line":14,"column":41},"end":{"line":14,"column":51}}],"line":14},"7":{"loc":{"start":{"line":15,"column":14},"end":{"line":15,"column":52}},"type":"binary-expr","locations":[{"start":{"line":15,"column":14},"end":{"line":15,"column":33}},{"start":{"line":15,"column":37},"end":{"line":15,"column":52}}],"line":15},"8":{"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":44}},"type":"binary-expr","locations":[{"start":{"line":16,"column":10},"end":{"line":16,"column":29}},{"start":{"line":16,"column":33},"end":{"line":16,"column":44}}],"line":16},"9":{"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":37}},"type":"binary-expr","locations":[{"start":{"line":17,"column":10},"end":{"line":17,"column":29}},{"start":{"line":17,"column":33},"end":{"line":17,"column":37}}],"line":17},"10":{"loc":{"start":{"line":21,"column":14},"end":{"line":21,"column":47}},"type":"binary-expr","locations":[{"start":{"line":21,"column":14},"end":{"line":21,"column":33}},{"start":{"line":21,"column":37},"end":{"line":21,"column":47}}],"line":21},"11":{"loc":{"start":{"line":22,"column":14},"end":{"line":22,"column":51}},"type":"binary-expr","locations":[{"start":{"line":22,"column":14},"end":{"line":22,"column":37}},{"start":{"line":22,"column":41},"end":{"line":22,"column":51}}],"line":22},"12":{"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":52}},"type":"binary-expr","locations":[{"start":{"line":23,"column":14},"end":{"line":23,"column":33}},{"start":{"line":23,"column":37},"end":{"line":23,"column":52}}],"line":23},"13":{"loc":{"start":{"line":24,"column":10},"end":{"line":24,"column":44}},"type":"binary-expr","locations":[{"start":{"line":24,"column":10},"end":{"line":24,"column":29}},{"start":{"line":24,"column":33},"end":{"line":24,"column":44}}],"line":24},"14":{"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":37}},"type":"binary-expr","locations":[{"start":{"line":25,"column":10},"end":{"line":25,"column":29}},{"start":{"line":25,"column":33},"end":{"line":25,"column":37}}],"line":25}},"s":{"0":1,"1":1},"f":{},"b":{"0":[1,0],"1":[1,0],"2":[1,0],"3":[1,0],"4":[1,0],"5":[1,0],"6":[1,0],"7":[1,0],"8":[1,0],"9":[1,0],"10":[1,0],"11":[1,0],"12":[1,0],"13":[1,0],"14":[1,0]},"inputSourceMap":{"version":3,"names":["require","config","module","exports","development","username","process","env","DB_USER","password","DB_PASSWORD","database","DB_NAME","host","DB_HOST","port","DB_PORT","dialect","test","production"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\config\\","sources":["config.js"],"sourcesContent":["require('dotenv').config(); // Load environment variables\r\n\r\nmodule.exports = {\r\n  development: {\r\n    username: process.env.DB_USER || 'postgres',\r\n    password: process.env.DB_PASSWORD || 'password',\r\n    database: process.env.DB_NAME || 'database_dev',\r\n    host: process.env.DB_HOST || '127.0.0.1',\r\n    port: process.env.DB_PORT || 5432,\r\n    dialect: 'postgres'\r\n  },\r\n  test: {\r\n    username: process.env.DB_USER || 'postgres',\r\n    password: process.env.DB_PASSWORD || 'password',\r\n    database: process.env.DB_NAME || 'database_test',\r\n    host: process.env.DB_HOST || '127.0.0.1',\r\n    port: process.env.DB_PORT || 5432,\r\n    dialect: 'postgres'\r\n  },\r\n  production: {\r\n    username: process.env.DB_USER || 'postgres',\r\n    password: process.env.DB_PASSWORD || 'password',\r\n    database: process.env.DB_NAME || 'database_prod',\r\n    host: process.env.DB_HOST || '127.0.0.1',\r\n    port: process.env.DB_PORT || 5432,\r\n    dialect: 'postgres'\r\n  }\r\n};\r\n"],"mappings":"AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;;AAE5BC,MAAM,CAACC,OAAO,GAAG;EACfC,WAAW,EAAE;IACXC,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO,IAAI,UAAU;IAC3CC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,WAAW,IAAI,UAAU;IAC/CC,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO,IAAI,cAAc;IAC/CC,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,WAAW;IACxCC,IAAI,EAAET,OAAO,CAACC,GAAG,CAACS,OAAO,IAAI,IAAI;IACjCC,OAAO,EAAE;EACX,CAAC;EACDC,IAAI,EAAE;IACJb,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO,IAAI,UAAU;IAC3CC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,WAAW,IAAI,UAAU;IAC/CC,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO,IAAI,eAAe;IAChDC,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,WAAW;IACxCC,IAAI,EAAET,OAAO,CAACC,GAAG,CAACS,OAAO,IAAI,IAAI;IACjCC,OAAO,EAAE;EACX,CAAC;EACDE,UAAU,EAAE;IACVd,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO,IAAI,UAAU;IAC3CC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,WAAW,IAAI,UAAU;IAC/CC,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACK,OAAO,IAAI,eAAe;IAChDC,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO,IAAI,WAAW;IACxCC,IAAI,EAAET,OAAO,CAACC,GAAG,CAACS,OAAO,IAAI,IAAI;IACjCC,OAAO,EAAE;EACX;AACF,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"72f13d5e1b97cdd8de1fbb18ac6a3b3cfc56148a","contentHash":"79eda335224c8f6e3e5f692b022759b8c2024407f9d0dea654c8362575046bd4"},"D:\\rippers\\rippers-bn-be\\models\\accommodation.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\accommodation.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":37,"column":2}},"2":{"start":{"line":17,"column":2},"end":{"line":28,"column":5}},"3":{"start":{"line":29,"column":2},"end":{"line":35,"column":4}},"4":{"start":{"line":31,"column":4},"end":{"line":34,"column":7}},"5":{"start":{"line":36,"column":2},"end":{"line":36,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":37,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":15,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":28},"end":{"line":29,"column":29}},"loc":{"start":{"line":29,"column":38},"end":{"line":35,"column":3}},"line":29}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":0,"2":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Accommodation","associate","models","init","name","STRING","numberOfRooms","INTEGER","description","TEXT","location","geolocation","services","amenities","modelName","hasMany","Room","foreignKey","as"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["accommodation.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Accommodation extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Accommodation.init({\r\n    name: DataTypes.STRING,\r\n    numberOfRooms: DataTypes.INTEGER,\r\n    description: DataTypes.TEXT,\r\n    location: DataTypes.STRING,\r\n    geolocation: DataTypes.STRING,\r\n    services: DataTypes.TEXT,\r\n    amenities: DataTypes.TEXT\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Accommodation',\r\n  });\r\n\r\n  Accommodation.associate = (models) => {\r\n    // Accommodation has many Rooms\r\n    Accommodation.hasMany(models.Room, {\r\n      foreignKey: \"accommodationId\",\r\n      as: \"rooms\",\r\n    });\r\n  };\r\n  \r\n  return Accommodation;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,aAAa,SAASN,KAAK,CAAC;IAChC;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,aAAa,CAACG,IAAI,CAAC;IACjBC,IAAI,EAAEL,SAAS,CAACM,MAAM;IACtBC,aAAa,EAAEP,SAAS,CAACQ,OAAO;IAChCC,WAAW,EAAET,SAAS,CAACU,IAAI;IAC3BC,QAAQ,EAAEX,SAAS,CAACM,MAAM;IAC1BM,WAAW,EAAEZ,SAAS,CAACM,MAAM;IAC7BO,QAAQ,EAAEb,SAAS,CAACU,IAAI;IACxBI,SAAS,EAAEd,SAAS,CAACU;EACvB,CAAC,EAAE;IACDX,SAAS;IACTgB,SAAS,EAAE;EACb,CAAC,CAAC;EAEFd,aAAa,CAACC,SAAS,GAAIC,MAAM,IAAK;IACpC;IACAF,aAAa,CAACe,OAAO,CAACb,MAAM,CAACc,IAAI,EAAE;MACjCC,UAAU,EAAE,iBAAiB;MAC7BC,EAAE,EAAE;IACN,CAAC,CAAC;EACJ,CAAC;EAED,OAAOlB,aAAa;AACtB,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2aad949b438b88a8cea01cb96eb9c6690d72b579","contentHash":"44186a8475507b6e10f50238084ed8aa1b56c8b41962a76c8fb082f3c2465dab"},"D:\\rippers\\rippers-bn-be\\models\\chat.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\chat.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":27,"column":2}},"2":{"start":{"line":17,"column":2},"end":{"line":25,"column":5}},"3":{"start":{"line":26,"column":2},"end":{"line":26,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":27,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":15,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Chat","associate","models","init","message","TEXT","receiver","INTEGER","sender","image","STRING","modelName"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["chat.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Chat extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Chat.init({\r\n    message: DataTypes.TEXT,\r\n    receiver: DataTypes.INTEGER,\r\n    sender: DataTypes.INTEGER,\r\n    image: DataTypes.STRING\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Chat',\r\n  });\r\n  return Chat;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,IAAI,CAACG,IAAI,CAAC;IACRC,OAAO,EAAEL,SAAS,CAACM,IAAI;IACvBC,QAAQ,EAAEP,SAAS,CAACQ,OAAO;IAC3BC,MAAM,EAAET,SAAS,CAACQ,OAAO;IACzBE,KAAK,EAAEV,SAAS,CAACW;EACnB,CAAC,EAAE;IACDZ,SAAS;IACTa,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOX,IAAI;AACb,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fc4f5fbd1c08452ba8a6da08370b7c7c6d96df9a","contentHash":"e37dd2dedc806582e468760223bb35fe5acef13564c0477d0dd0e71069c5ddc6"},"D:\\rippers\\rippers-bn-be\\models\\feedback.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\feedback.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":32,"column":2}},"2":{"start":{"line":15,"column":6},"end":{"line":19,"column":9}},"3":{"start":{"line":22,"column":2},"end":{"line":30,"column":5}},"4":{"start":{"line":31,"column":2},"end":{"line":31,"column":18}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":32,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":20,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Feedback","associate","models","belongsTo","User","foreignKey","onDelete","onUpdate","init","userId","INTEGER","facility","STRING","like","BOOLEAN","comment","TEXT","modelName"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["feedback.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Feedback extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // Define association here\r\n      Feedback.belongsTo(models.User, {\r\n        foreignKey: 'userId',\r\n        onDelete: 'CASCADE',\r\n        onUpdate: 'CASCADE',\r\n      });\r\n    }\r\n  }\r\n  Feedback.init({\r\n    userId: DataTypes.INTEGER,\r\n    facility: DataTypes.STRING,\r\n    like: DataTypes.BOOLEAN,\r\n    comment: DataTypes.TEXT\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Feedback',\r\n  });\r\n\r\n  \r\n\r\n  return Feedback;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,QAAQ,SAASN,KAAK,CAAC;IAC3B;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;MACAF,QAAQ,CAACG,SAAS,CAACD,MAAM,CAACE,IAAI,EAAE;QAC9BC,UAAU,EAAE,QAAQ;QACpBC,QAAQ,EAAE,SAAS;QACnBC,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF;EACAP,QAAQ,CAACQ,IAAI,CAAC;IACZC,MAAM,EAAEV,SAAS,CAACW,OAAO;IACzBC,QAAQ,EAAEZ,SAAS,CAACa,MAAM;IAC1BC,IAAI,EAAEd,SAAS,CAACe,OAAO;IACvBC,OAAO,EAAEhB,SAAS,CAACiB;EACrB,CAAC,EAAE;IACDlB,SAAS;IACTmB,SAAS,EAAE;EACb,CAAC,CAAC;EAIF,OAAOjB,QAAQ;AACjB,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"70e1654214cc9967241cf82b485e886893f0bbc6","contentHash":"dfc8f1a50d924308bbaaab0d789e3aa9b48decbb39672577eb65df274dbae7a2"},"D:\\rippers\\rippers-bn-be\\models\\notification.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\notification.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":27,"column":2}},"2":{"start":{"line":17,"column":2},"end":{"line":25,"column":5}},"3":{"start":{"line":26,"column":2},"end":{"line":26,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":27,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":15,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Notification","associate","models","init","message","TEXT","receiver","INTEGER","sender","status","STRING","modelName"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["notification.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Notification extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Notification.init({\r\n    message: DataTypes.TEXT,\r\n    receiver: DataTypes.INTEGER,\r\n    sender: DataTypes.INTEGER,\r\n    status: DataTypes.STRING\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Notification',\r\n  });\r\n  return Notification;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,YAAY,SAASN,KAAK,CAAC;IAC/B;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,YAAY,CAACG,IAAI,CAAC;IAChBC,OAAO,EAAEL,SAAS,CAACM,IAAI;IACvBC,QAAQ,EAAEP,SAAS,CAACQ,OAAO;IAC3BC,MAAM,EAAET,SAAS,CAACQ,OAAO;IACzBE,MAAM,EAAEV,SAAS,CAACW;EACpB,CAAC,EAAE;IACDZ,SAAS;IACTa,SAAS,EAAE;EACb,CAAC,CAAC;EACF,OAAOX,YAAY;AACrB,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1bc377bcb748c8e3c4ddfe87ca1ee97d368a7513","contentHash":"199810c0e705de94c75e0211f0398c2ca942988fdb1b6628d1f0e304ed796621"},"D:\\rippers\\rippers-bn-be\\models\\room.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\room.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":37,"column":2}},"2":{"start":{"line":17,"column":2},"end":{"line":28,"column":5}},"3":{"start":{"line":29,"column":2},"end":{"line":35,"column":4}},"4":{"start":{"line":31,"column":4},"end":{"line":34,"column":7}},"5":{"start":{"line":36,"column":2},"end":{"line":36,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":37,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":15,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":19},"end":{"line":29,"column":20}},"loc":{"start":{"line":29,"column":29},"end":{"line":35,"column":3}},"line":29}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":0,"2":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Room","associate","models","init","type","STRING","cost","DECIMAL","roomCode","allowNull","unique","modelName","belongsTo","Accommodation","foreignKey","as"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["room.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Room extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Room.init({\r\n    type: DataTypes.STRING,\r\n    cost: DataTypes.DECIMAL,\r\n    roomCode:\r\n    {\r\n      type: DataTypes.STRING,\r\n      allowNull: false,\r\n      unique: true,\r\n    },\r\n  }, \r\n  \r\n  {\r\n    sequelize,\r\n    modelName: 'Room',\r\n  });\r\n\r\n  Room.associate = (models) => {\r\n    // Room belongs to an Accommodation\r\n    Room.belongsTo(models.Accommodation, {\r\n      foreignKey: \"accommodationId\",\r\n      as: \"accommodation\",\r\n    });\r\n  };\r\n  \r\n  return Room;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,IAAI,CAACG,IAAI,CAAC;IACRC,IAAI,EAAEL,SAAS,CAACM,MAAM;IACtBC,IAAI,EAAEP,SAAS,CAACQ,OAAO;IACvBC,QAAQ,EACR;MACEJ,IAAI,EAAEL,SAAS,CAACM,MAAM;MACtBI,SAAS,EAAE,KAAK;MAChBC,MAAM,EAAE;IACV;EACF,CAAC,EAED;IACEZ,SAAS;IACTa,SAAS,EAAE;EACb,CAAC,CAAC;EAEFX,IAAI,CAACC,SAAS,GAAIC,MAAM,IAAK;IAC3B;IACAF,IAAI,CAACY,SAAS,CAACV,MAAM,CAACW,aAAa,EAAE;MACnCC,UAAU,EAAE,iBAAiB;MAC7BC,EAAE,EAAE;IACN,CAAC,CAAC;EACJ,CAAC;EAED,OAAOf,IAAI;AACb,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3e6a0e7432b8f33000df3f877d70baa91b0b39e","contentHash":"858cd1ce597bbdd4194e79a0ba44983c14f541abc7050ace27b0724ca3ca47bd"},"D:\\rippers\\rippers-bn-be\\models\\trip.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\trip.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":49,"column":2}},"2":{"start":{"line":17,"column":2},"end":{"line":34,"column":5}},"3":{"start":{"line":35,"column":2},"end":{"line":47,"column":4}},"4":{"start":{"line":37,"column":4},"end":{"line":40,"column":7}},"5":{"start":{"line":43,"column":4},"end":{"line":46,"column":7}},"6":{"start":{"line":48,"column":2},"end":{"line":48,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":49,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":29},"end":{"line":15,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":35,"column":19},"end":{"line":35,"column":20}},"loc":{"start":{"line":35,"column":29},"end":{"line":47,"column":3}},"line":35}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1,"1":0,"2":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","Trip","associate","models","init","userId","INTEGER","name","STRING","passport","gender","manager","from","to","dateForGoing","DATE","dateForReturn","reason","TEXT","accommodationId","status","comment","modelName","belongsTo","User","foreignKey","as","Accommodation"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["trip.js"],"sourcesContent":["'use strict';\r\nconst {\r\n  Model\r\n} = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class Trip extends Model {\r\n    /**\r\n     * Helper method for defining associations.\r\n     * This method is not a part of Sequelize lifecycle.\r\n     * The `models/index` file will call this method automatically.\r\n     */\r\n    static associate(models) {\r\n      // define association here\r\n    }\r\n  }\r\n  Trip.init({\r\n    userId: DataTypes.INTEGER,\r\n    name: DataTypes.STRING,\r\n    passport: DataTypes.STRING,\r\n    gender: DataTypes.STRING,\r\n    manager: DataTypes.STRING,\r\n    from: DataTypes.STRING,\r\n    to: DataTypes.STRING,\r\n    dateForGoing: DataTypes.DATE,\r\n    dateForReturn: DataTypes.DATE,\r\n    reason: DataTypes.TEXT,\r\n    accommodationId: DataTypes.INTEGER,\r\n    status: DataTypes.STRING,\r\n    comment: DataTypes.TEXT\r\n  }, {\r\n    sequelize,\r\n    modelName: 'Trip',\r\n  });\r\n\r\n  Trip.associate = (models) => {\r\n    // Relationship with User\r\n    Trip.belongsTo(models.User, {\r\n      foreignKey: \"userId\",\r\n      as: \"user\",\r\n    });\r\n\r\n    // Relationship with Accommodation\r\n    Trip.belongsTo(models.Accommodation, {\r\n      foreignKey: \"accommodationId\",\r\n      as: \"accommodation\",\r\n    });\r\n  };\r\n  \r\n  return Trip;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EACJA;AACF,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACxBC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB;AACJ;AACA;AACA;AACA;IACI,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvB;IAAA;EAEJ;EACAF,IAAI,CAACG,IAAI,CAAC;IACRC,MAAM,EAAEL,SAAS,CAACM,OAAO;IACzBC,IAAI,EAAEP,SAAS,CAACQ,MAAM;IACtBC,QAAQ,EAAET,SAAS,CAACQ,MAAM;IAC1BE,MAAM,EAAEV,SAAS,CAACQ,MAAM;IACxBG,OAAO,EAAEX,SAAS,CAACQ,MAAM;IACzBI,IAAI,EAAEZ,SAAS,CAACQ,MAAM;IACtBK,EAAE,EAAEb,SAAS,CAACQ,MAAM;IACpBM,YAAY,EAAEd,SAAS,CAACe,IAAI;IAC5BC,aAAa,EAAEhB,SAAS,CAACe,IAAI;IAC7BE,MAAM,EAAEjB,SAAS,CAACkB,IAAI;IACtBC,eAAe,EAAEnB,SAAS,CAACM,OAAO;IAClCc,MAAM,EAAEpB,SAAS,CAACQ,MAAM;IACxBa,OAAO,EAAErB,SAAS,CAACkB;EACrB,CAAC,EAAE;IACDnB,SAAS;IACTuB,SAAS,EAAE;EACb,CAAC,CAAC;EAEFrB,IAAI,CAACC,SAAS,GAAIC,MAAM,IAAK;IAC3B;IACAF,IAAI,CAACsB,SAAS,CAACpB,MAAM,CAACqB,IAAI,EAAE;MAC1BC,UAAU,EAAE,QAAQ;MACpBC,EAAE,EAAE;IACN,CAAC,CAAC;;IAEF;IACAzB,IAAI,CAACsB,SAAS,CAACpB,MAAM,CAACwB,aAAa,EAAE;MACnCF,UAAU,EAAE,iBAAiB;MAC7BC,EAAE,EAAE;IACN,CAAC,CAAC;EACJ,CAAC;EAED,OAAOzB,IAAI;AACb,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4999c25bcac4c01709ea16be750761bb9f13006e","contentHash":"3296e50e15bdb209fb11e59bcdd9fa226e01cc61597f095bcef2fd3a36e6fac6"},"D:\\rippers\\rippers-bn-be\\models\\user.js":{"path":"D:\\rippers\\rippers-bn-be\\models\\user.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":24}},"1":{"start":{"line":6,"column":0},"end":{"line":40,"column":2}},"2":{"start":{"line":9,"column":6},"end":{"line":12,"column":9}},"3":{"start":{"line":13,"column":6},"end":{"line":17,"column":9}},"4":{"start":{"line":20,"column":2},"end":{"line":38,"column":5}},"5":{"start":{"line":39,"column":2},"end":{"line":39,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":18}},"loc":{"start":{"line":6,"column":43},"end":{"line":40,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":29},"end":{"line":18,"column":5}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"names":["Model","require","module","exports","sequelize","DataTypes","User","associate","models","hasMany","Trip","foreignKey","as","Feedback","onDelete","onUpdate","init","firstName","STRING","lastName","email","googleId","birthOfDate","DATEONLY","preferredLanguage","preferredCurrency","whereYouLive","role","department","lineManager","gender","telephoneNumber","modelName"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\models\\","sources":["user.js"],"sourcesContent":["'use strict';\r\nconst { Model } = require('sequelize');\r\nmodule.exports = (sequelize, DataTypes) => {\r\n  class User extends Model {\r\n    static associate(models) {\r\n      User.hasMany(models.Trip, {\r\n        foreignKey: \"userId\",\r\n        as: \"trips\",\r\n      });\r\n\r\n      User.hasMany(models.Feedback, {\r\n        foreignKey: 'userId',\r\n        onDelete: 'CASCADE',\r\n        onUpdate: 'CASCADE',\r\n      });\r\n    }\r\n  }\r\n  User.init({\r\n    firstName: DataTypes.STRING,\r\n    lastName: DataTypes.STRING,\r\n    email: DataTypes.STRING,\r\n    googleId: DataTypes.STRING, // Add this line\r\n    birthOfDate: DataTypes.DATEONLY,\r\n    preferredLanguage: DataTypes.STRING,\r\n    preferredCurrency: DataTypes.STRING,\r\n    whereYouLive: DataTypes.STRING,\r\n    role: DataTypes.STRING,\r\n    department: DataTypes.STRING,\r\n    lineManager: DataTypes.STRING,\r\n    gender: DataTypes.STRING,\r\n    telephoneNumber: DataTypes.STRING\r\n  }, {\r\n    sequelize,\r\n    modelName: 'User',\r\n  });\r\n\r\n  return User;\r\n};"],"mappings":"AAAA,YAAY;;AACZ,MAAM;EAAEA;AAAM,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AACtCC,MAAM,CAACC,OAAO,GAAG,CAACC,SAAS,EAAEC,SAAS,KAAK;EACzC,MAAMC,IAAI,SAASN,KAAK,CAAC;IACvB,OAAOO,SAASA,CAACC,MAAM,EAAE;MACvBF,IAAI,CAACG,OAAO,CAACD,MAAM,CAACE,IAAI,EAAE;QACxBC,UAAU,EAAE,QAAQ;QACpBC,EAAE,EAAE;MACN,CAAC,CAAC;MAEFN,IAAI,CAACG,OAAO,CAACD,MAAM,CAACK,QAAQ,EAAE;QAC5BF,UAAU,EAAE,QAAQ;QACpBG,QAAQ,EAAE,SAAS;QACnBC,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF;EACAT,IAAI,CAACU,IAAI,CAAC;IACRC,SAAS,EAAEZ,SAAS,CAACa,MAAM;IAC3BC,QAAQ,EAAEd,SAAS,CAACa,MAAM;IAC1BE,KAAK,EAAEf,SAAS,CAACa,MAAM;IACvBG,QAAQ,EAAEhB,SAAS,CAACa,MAAM;IAAE;IAC5BI,WAAW,EAAEjB,SAAS,CAACkB,QAAQ;IAC/BC,iBAAiB,EAAEnB,SAAS,CAACa,MAAM;IACnCO,iBAAiB,EAAEpB,SAAS,CAACa,MAAM;IACnCQ,YAAY,EAAErB,SAAS,CAACa,MAAM;IAC9BS,IAAI,EAAEtB,SAAS,CAACa,MAAM;IACtBU,UAAU,EAAEvB,SAAS,CAACa,MAAM;IAC5BW,WAAW,EAAExB,SAAS,CAACa,MAAM;IAC7BY,MAAM,EAAEzB,SAAS,CAACa,MAAM;IACxBa,eAAe,EAAE1B,SAAS,CAACa;EAC7B,CAAC,EAAE;IACDd,SAAS;IACT4B,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,OAAO1B,IAAI;AACb,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4f5ccb1f545fef8076c687a4211d45b6ac9af694","contentHash":"59ea84090984cdc5c6c0575dcdb93de40a9ae20405954fc47cdabfdedc029157"},"D:\\rippers\\rippers-bn-be\\src\\validations\\userValidation.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\validations\\userValidation.js","statementMap":{"0":{"start":{"line":1,"column":12},"end":{"line":1,"column":26}},"1":{"start":{"line":2,"column":15},"end":{"line":2,"column":34}},"2":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"4":{"start":{"line":7,"column":29},"end":{"line":51,"column":2}},"5":{"start":{"line":52,"column":28},"end":{"line":61,"column":1}},"6":{"start":{"line":53,"column":15},"end":{"line":57,"column":4}},"7":{"start":{"line":58,"column":2},"end":{"line":60,"column":3}},"8":{"start":{"line":59,"column":4},"end":{"line":59,"column":44}},"9":{"start":{"line":62,"column":24},"end":{"line":66,"column":1}},"10":{"start":{"line":63,"column":15},"end":{"line":63,"column":39}},"11":{"start":{"line":64,"column":25},"end":{"line":64,"column":58}},"12":{"start":{"line":65,"column":2},"end":{"line":65,"column":24}},"13":{"start":{"line":67,"column":25},"end":{"line":77,"column":1}},"14":{"start":{"line":68,"column":18},"end":{"line":72,"column":3}},"15":{"start":{"line":73,"column":16},"end":{"line":75,"column":4}},"16":{"start":{"line":76,"column":2},"end":{"line":76,"column":15}},"17":{"start":{"line":78,"column":33},"end":{"line":86,"column":1}},"18":{"start":{"line":81,"column":6},"end":{"line":81,"column":45}},"19":{"start":{"line":82,"column":2},"end":{"line":84,"column":3}},"20":{"start":{"line":83,"column":4},"end":{"line":83,"column":46}},"21":{"start":{"line":85,"column":2},"end":{"line":85,"column":44}},"22":{"start":{"line":87,"column":0},"end":{"line":91,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":52,"column":28},"end":{"line":52,"column":29}},"loc":{"start":{"line":52,"column":43},"end":{"line":61,"column":1}},"line":52},"1":{"name":"(anonymous_1)","decl":{"start":{"line":62,"column":24},"end":{"line":62,"column":25}},"loc":{"start":{"line":62,"column":42},"end":{"line":66,"column":1}},"line":62},"2":{"name":"(anonymous_2)","decl":{"start":{"line":67,"column":25},"end":{"line":67,"column":26}},"loc":{"start":{"line":67,"column":33},"end":{"line":77,"column":1}},"line":67},"3":{"name":"(anonymous_3)","decl":{"start":{"line":78,"column":33},"end":{"line":78,"column":34}},"loc":{"start":{"line":78,"column":51},"end":{"line":86,"column":1}},"line":78}},"branchMap":{"0":{"loc":{"start":{"line":58,"column":2},"end":{"line":60,"column":3}},"type":"if","locations":[{"start":{"line":58,"column":2},"end":{"line":60,"column":3}},{"start":{"line":58,"column":2},"end":{"line":60,"column":3}}],"line":58},"1":{"loc":{"start":{"line":82,"column":2},"end":{"line":84,"column":3}},"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":84,"column":3}},{"start":{"line":82,"column":2},"end":{"line":84,"column":3}}],"line":82}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":1},"f":{"0":0,"1":0,"2":0,"3":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"names":["Joi","require","bcrypt","jwt","User","userValidationSchema","object","email","string","required","messages","password","min","alphanum","firstName","lastName","birthOfDate","date","iso","preferredLanguage","optional","preferredCurrency","whereYouLive","role","department","lineManager","gender","valid","telephoneNumber","pattern","validateEmailExists","user","findOne","where","Error","encryptPassword","salt","genSalt","hashedPassword","hash","generateJwtToken","payload","userId","id","token","sign","process","env","JWT_SECRET","expiresIn","validateUserRegistration","userData","error","validate","details","message","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\validations\\","sources":["userValidation.js"],"sourcesContent":["const Joi = require('joi');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst { User } = require('../../models');\r\n\r\nconst userValidationSchema = Joi.object({\r\n  email: Joi.string().email().required().messages({\r\n    'string.email': 'Invalid email format',\r\n    'any.required': 'Email is required',\r\n  }),\r\n  password: Joi.string().min(8).alphanum().required().messages({\r\n    'string.min': 'Password must be at least 8 characters long',\r\n    'string.alphanum': 'Password must be alphanumeric',\r\n    'any.required': 'Password is required',\r\n  }),\r\n  firstName: Joi.string().required().messages({\r\n    'any.required': 'First name is required',\r\n  }),\r\n  lastName: Joi.string().required().messages({\r\n    'any.required': 'Last name is required',\r\n  }),\r\n  birthOfDate: Joi.date().iso().required().messages({\r\n    'date.base': 'Invalid date format',\r\n    'any.required': 'Date of birth is required',\r\n  }),\r\n  preferredLanguage: Joi.string().optional().messages({\r\n    'string.base': 'Preferred language must be a string',\r\n  }),\r\n  preferredCurrency: Joi.string().optional().messages({\r\n    'string.base': 'Preferred currency must be a string',\r\n  }),\r\n  whereYouLive: Joi.string().optional().messages({\r\n    'string.base': 'Location must be a string',\r\n  }),\r\n  role: Joi.string().required().messages({\r\n    'any.required': 'Role is required',\r\n  }),\r\n  department: Joi.string().optional().messages({\r\n    'string.base': 'Department must be a string',\r\n  }),\r\n  lineManager: Joi.string().optional().messages({\r\n    'string.base': 'Line Manager must be a string',\r\n  }),\r\n  gender: Joi.string().valid('Male', 'Female', 'Other').optional().messages({\r\n    'any.only': 'Gender must be Male, Female, or Other',\r\n  }),\r\n  telephoneNumber: Joi.string()\r\n    .pattern(/^\\+?\\d{7,15}$/)\r\n    .optional()\r\n    .messages({\r\n      'string.pattern.base': 'Telephone number must be a valid phone number',\r\n    }),\r\n});\r\n\r\nconst validateEmailExists = async (email) => {\r\n  const user = await User.findOne({ where: { email } });\r\n  if (user) {\r\n    throw new Error('Email already exists');\r\n  }\r\n};\r\n\r\nconst encryptPassword = async (password) => {\r\n  const salt = await bcrypt.genSalt(10); \r\n  const hashedPassword = await bcrypt.hash(password, salt);\r\n  return hashedPassword;\r\n};\r\n\r\nconst generateJwtToken = (user) => {\r\n  const payload = {\r\n    userId: user.id, \r\n    email: user.email,\r\n    role: user.role,  \r\n  };\r\n  const token = jwt.sign(payload, process.env.JWT_SECRET, { expiresIn: '1h' });\r\n  return token;\r\n};\r\n\r\nconst validateUserRegistration = async (userData) => {\r\n  const { error } = userValidationSchema.validate(userData);\r\n  if (error) {\r\n    throw new Error(error.details[0].message);\r\n  }\r\n  await validateEmailExists(userData.email); \r\n};\r\n\r\nmodule.exports = { validateUserRegistration, encryptPassword, generateJwtToken };\r\n"],"mappings":"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","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fcd12baa3ff0d12a292883eff1d4ad613b669dce","contentHash":"8448239f7aca2ef28d4475f413f42e09c3c2223a31d204950d2f335984769d93"},"D:\\rippers\\rippers-bn-be\\src\\routes\\authRoutes.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\routes\\authRoutes.js","statementMap":{"0":{"start":{"line":1,"column":16},"end":{"line":1,"column":34}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":44}},"2":{"start":{"line":5,"column":15},"end":{"line":5,"column":31}},"3":{"start":{"line":73,"column":0},"end":{"line":73,"column":56}},"4":{"start":{"line":74,"column":0},"end":{"line":74,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["express","require","googleLoginController","router","Router","get","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\routes\\","sources":["authRoutes.js"],"sourcesContent":["\r\nconst express = require('express');\r\nconst { googleLoginController } = require('../controllers/authController');\r\nconst router = express.Router();\r\n\r\n/**\r\n * @swagger\r\n * /api/v1/auth/google-login:\r\n *   get:\r\n *     summary: Login with Google\r\n *     description: Authenticate a user using Google OAuth.\r\n *     parameters:\r\n *       - in: query\r\n *         name: token\r\n *         schema:\r\n *           type: string\r\n *         required: true\r\n *         description: Google OAuth token.\r\n *     responses:\r\n *       200:\r\n *         description: Login successful.\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               type: object\r\n *               properties:\r\n *                 status:\r\n *                   type: integer\r\n *                   example: 200\r\n *                 message:\r\n *                   type: string\r\n *                   example: Login successful\r\n *                 data:\r\n *                   type: object\r\n *                   properties:\r\n *                     userId:\r\n *                       type: integer\r\n *                       example: 1\r\n *                     email:\r\n *                       type: string\r\n *                       example: test@example.com\r\n *                     token:\r\n *                       type: string\r\n *                       example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\r\n *       400:\r\n *         description: Invalid token or missing token.\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               type: object\r\n *               properties:\r\n *                 status:\r\n *                   type: integer\r\n *                   example: 400\r\n *                 message:\r\n *                   type: string\r\n *                   example: Invalid token\r\n *       404:\r\n *         description: User does not exist.\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               type: object\r\n *               properties:\r\n *                 status:\r\n *                   type: integer\r\n *                   example: 404\r\n *                 message:\r\n *                   type: string\r\n *                   example: Account does not exist. Please create an account first.\r\n */\r\nrouter.get('/auth/google-login', googleLoginController);\r\n\r\nmodule.exports = router;"],"mappings":"AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEC;AAAsB,CAAC,GAAGD,OAAO,CAAC,+BAA+B,CAAC;AAC1E,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAM,CAAC,CAAC;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAD,MAAM,CAACE,GAAG,CAAC,oBAAoB,EAAEH,qBAAqB,CAAC;AAEvDI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"92e1187ee8276cf4463663a4e8ff273cbecd15d4","contentHash":"eb9c60975196ad356e8e14f4c9ffd939cabd0aa57cd4948df7a37c1468c2f8d3"},"D:\\rippers\\rippers-bn-be\\src\\controllers\\authController.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\controllers\\authController.js","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":38}},"1":{"start":{"line":4,"column":30},"end":{"line":33,"column":1}},"2":{"start":{"line":7,"column":6},"end":{"line":7,"column":15}},"3":{"start":{"line":8,"column":2},"end":{"line":13,"column":3}},"4":{"start":{"line":9,"column":4},"end":{"line":12,"column":7}},"5":{"start":{"line":14,"column":2},"end":{"line":32,"column":3}},"6":{"start":{"line":15,"column":21},"end":{"line":15,"column":45}},"7":{"start":{"line":16,"column":4},"end":{"line":20,"column":7}},"8":{"start":{"line":23,"column":4},"end":{"line":23,"column":46}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":52}},"10":{"start":{"line":27,"column":23},"end":{"line":27,"column":46}},"11":{"start":{"line":28,"column":4},"end":{"line":31,"column":7}},"12":{"start":{"line":34,"column":0},"end":{"line":36,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":30},"end":{"line":4,"column":31}},"loc":{"start":{"line":4,"column":50},"end":{"line":33,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":2},"end":{"line":13,"column":3}},"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":13,"column":3}},{"start":{"line":8,"column":2},"end":{"line":13,"column":3}}],"line":8},"1":{"loc":{"start":{"line":27,"column":23},"end":{"line":27,"column":46}},"type":"binary-expr","locations":[{"start":{"line":27,"column":23},"end":{"line":27,"column":39}},{"start":{"line":27,"column":43},"end":{"line":27,"column":46}}],"line":27},"2":{"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":54}},"type":"binary-expr","locations":[{"start":{"line":30,"column":15},"end":{"line":30,"column":28}},{"start":{"line":30,"column":32},"end":{"line":30,"column":54}}],"line":30}},"s":{"0":1,"1":1,"2":4,"3":4,"4":1,"5":3,"6":3,"7":1,"8":2,"9":2,"10":2,"11":2,"12":1},"f":{"0":4},"b":{"0":[1,3],"1":[2,1],"2":[2,0]},"inputSourceMap":{"version":3,"names":["googleLogin","require","googleLoginController","req","res","token","query","status","json","message","userData","data","error","console","statusCode","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\controllers\\","sources":["authController.js"],"sourcesContent":["const { googleLogin } = require('../Services/authService');\r\n\r\nconst googleLoginController = async (req, res) => {\r\n  const { token } = req.query;\r\n\r\n  if (!token) {\r\n    return res.status(400).json({\r\n      status: 400,\r\n      message: 'Authorization code is required',\r\n    });\r\n  }\r\n\r\n  try {\r\n    const userData = await googleLogin(token);\r\n\r\n    return res.status(200).json({\r\n      status: 200,\r\n      message: 'Login successful',\r\n      data: userData,\r\n    });\r\n  } catch (error) {\r\n    // Add debug logging\r\n    console.error('Controller error:', error);\r\n    console.error('Status code:', error.statusCode);\r\n    \r\n    // Use the error's status code or default to 400\r\n    const statusCode = error.statusCode || 400;\r\n    \r\n    return res.status(statusCode).json({\r\n      status: statusCode,\r\n      message: error.message || 'Something went wrong',\r\n    });\r\n  }\r\n};\r\n\r\nmodule.exports = { googleLoginController };"],"mappings":"AAAA,MAAM;EAAEA;AAAY,CAAC,GAAGC,OAAO,CAAC,yBAAyB,CAAC;AAE1D,MAAMC,qBAAqB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAChD,MAAM;IAAEC;EAAM,CAAC,GAAGF,GAAG,CAACG,KAAK;EAE3B,IAAI,CAACD,KAAK,EAAE;IACV,OAAOD,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BD,MAAM,EAAE,GAAG;MACXE,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;EAEA,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMV,WAAW,CAACK,KAAK,CAAC;IAEzC,OAAOD,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BD,MAAM,EAAE,GAAG;MACXE,OAAO,EAAE,kBAAkB;MAC3BE,IAAI,EAAED;IACR,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd;IACAC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;IACzCC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAACE,UAAU,CAAC;;IAE/C;IACA,MAAMA,UAAU,GAAGF,KAAK,CAACE,UAAU,IAAI,GAAG;IAE1C,OAAOV,GAAG,CAACG,MAAM,CAACO,UAAU,CAAC,CAACN,IAAI,CAAC;MACjCD,MAAM,EAAEO,UAAU;MAClBL,OAAO,EAAEG,KAAK,CAACH,OAAO,IAAI;IAC5B,CAAC,CAAC;EACJ;AACF,CAAC;AAEDM,MAAM,CAACC,OAAO,GAAG;EAAEd;AAAsB,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"649a0bba3ec708fc11e12785c6508d2616bbdd2b","contentHash":"4362206cc95bde56c2f591b6828f2b31aaa5d105c6fd45e2a43b0543cba48b7e"},"D:\\rippers\\rippers-bn-be\\src\\Services\\authService.js":{"path":"D:\\rippers\\rippers-bn-be\\src\\Services\\authService.js","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":3,"column":34}},"1":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":35}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":61}},"4":{"start":{"line":9,"column":20},"end":{"line":55,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":54,"column":3}},"6":{"start":{"line":12,"column":19},"end":{"line":15,"column":6}},"7":{"start":{"line":16,"column":20},"end":{"line":16,"column":39}},"8":{"start":{"line":17,"column":18},"end":{"line":17,"column":31}},"9":{"start":{"line":23,"column":15},"end":{"line":27,"column":6}},"10":{"start":{"line":30,"column":4},"end":{"line":34,"column":5}},"11":{"start":{"line":31,"column":20},"end":{"line":31,"column":88}},"12":{"start":{"line":32,"column":6},"end":{"line":32,"column":29}},"13":{"start":{"line":33,"column":6},"end":{"line":33,"column":18}},"14":{"start":{"line":37,"column":22},"end":{"line":42,"column":6}},"15":{"start":{"line":43,"column":4},"end":{"line":50,"column":6}},"16":{"start":{"line":52,"column":4},"end":{"line":52,"column":50}},"17":{"start":{"line":53,"column":4},"end":{"line":53,"column":16}},"18":{"start":{"line":56,"column":0},"end":{"line":58,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":20},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":35},"end":{"line":55,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":30,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":34,"column":5}},{"start":{"line":30,"column":4},"end":{"line":34,"column":5}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":2,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":1,"16":2,"17":2,"18":1},"f":{"0":3},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"names":["OAuth2Client","require","User","jwt","client","process","env","GOOGLE_CLIENT_ID","googleLogin","token","ticket","verifyIdToken","idToken","audience","payload","getPayload","email","user","findOne","where","error","Error","statusCode","authToken","sign","userId","id","role","JWT_SECRET","expiresIn","firstName","lastName","profilePicture","console","module","exports"],"sourceRoot":"D:\\rippers\\rippers-bn-be\\src\\Services\\","sources":["authService.js"],"sourcesContent":["const { OAuth2Client } = require('google-auth-library');\r\nconst { User } = require('../../models'); // Adjust the path as needed\r\nconst jwt = require('jsonwebtoken');\r\n\r\nconst client = new OAuth2Client(process.env.GOOGLE_CLIENT_ID);\r\n\r\nconst googleLogin = async (token) => {\r\n  try {\r\n    // Verify Google token\r\n    const ticket = await client.verifyIdToken({\r\n      idToken: token,\r\n      audience: process.env.GOOGLE_CLIENT_ID,\r\n    });\r\n\r\n    const payload = ticket.getPayload();\r\n    const email = payload.email; // Use email to check if the user exists\r\n    // const firstName = payload.given_name;\r\n    // const lastName = payload.family_name;\r\n    // const profilePicture = payload.picture;\r\n\r\n    // Check if the user exists in the database using email\r\n    let user = await User.findOne({ where: { email } });\r\n\r\n    // If the user does not exist, create a new user\r\n    if (!user) {\r\n        const error = new Error('Account does not exist. Please create an account first.');\r\n        error.statusCode = 404;\r\n        throw error;\r\n      }\r\n\r\n    // Generate JWT token\r\n    const authToken = jwt.sign({ userId: user.id, role: user.role }, process.env.JWT_SECRET, { expiresIn: '1h' });\r\n\r\n    return {\r\n      userId: user.id,\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      profilePicture: user.profilePicture,\r\n      token: authToken,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error in googleLogin:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nmodule.exports = { googleLogin };"],"mappings":"AAAA,MAAM;EAAEA;AAAa,CAAC,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AACvD,MAAM;EAAEC;AAAK,CAAC,GAAGD,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;AAC1C,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAc,CAAC;AAEnC,MAAMG,MAAM,GAAG,IAAIJ,YAAY,CAACK,OAAO,CAACC,GAAG,CAACC,gBAAgB,CAAC;AAE7D,MAAMC,WAAW,GAAG,MAAOC,KAAK,IAAK;EACnC,IAAI;IACF;IACA,MAAMC,MAAM,GAAG,MAAMN,MAAM,CAACO,aAAa,CAAC;MACxCC,OAAO,EAAEH,KAAK;MACdI,QAAQ,EAAER,OAAO,CAACC,GAAG,CAACC;IACxB,CAAC,CAAC;IAEF,MAAMO,OAAO,GAAGJ,MAAM,CAACK,UAAU,CAAC,CAAC;IACnC,MAAMC,KAAK,GAAGF,OAAO,CAACE,KAAK,CAAC,CAAC;IAC7B;IACA;IACA;;IAEA;IACA,IAAIC,IAAI,GAAG,MAAMf,IAAI,CAACgB,OAAO,CAAC;MAAEC,KAAK,EAAE;QAAEH;MAAM;IAAE,CAAC,CAAC;;IAEnD;IACA,IAAI,CAACC,IAAI,EAAE;MACP,MAAMG,KAAK,GAAG,IAAIC,KAAK,CAAC,yDAAyD,CAAC;MAClFD,KAAK,CAACE,UAAU,GAAG,GAAG;MACtB,MAAMF,KAAK;IACb;;IAEF;IACA,MAAMG,SAAS,GAAGpB,GAAG,CAACqB,IAAI,CAAC;MAAEC,MAAM,EAAER,IAAI,CAACS,EAAE;MAAEC,IAAI,EAAEV,IAAI,CAACU;IAAK,CAAC,EAAEtB,OAAO,CAACC,GAAG,CAACsB,UAAU,EAAE;MAAEC,SAAS,EAAE;IAAK,CAAC,CAAC;IAE7G,OAAO;MACLJ,MAAM,EAAER,IAAI,CAACS,EAAE;MACfI,SAAS,EAAEb,IAAI,CAACa,SAAS;MACzBC,QAAQ,EAAEd,IAAI,CAACc,QAAQ;MACvBf,KAAK,EAAEC,IAAI,CAACD,KAAK;MACjBgB,cAAc,EAAEf,IAAI,CAACe,cAAc;MACnCvB,KAAK,EAAEc;IACT,CAAC;EACH,CAAC,CAAC,OAAOH,KAAK,EAAE;IACda,OAAO,CAACb,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;AAEDc,MAAM,CAACC,OAAO,GAAG;EAAE3B;AAAY,CAAC","ignoreList":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"76a00344df9284ab6ec733e16956e20bce706d15","contentHash":"d86565fa782d404887fe520cb1cf72b37207bb6e03b88e796774d72a85acfdcf"}}